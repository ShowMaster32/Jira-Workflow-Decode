<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE workflow PUBLIC "-//OpenSymphony Group//DTD OSWorkflow 2.8//EN" "http://www.opensymphony.com/osworkflow/workflow_2_8.dtd">
<workflow>
  <meta name="jira.description">Workflow to be used in HUB Service flow with JIRA Service Desk</meta>
  <meta name="jira.update.author.key">katia.chinaglia</meta>
  <meta name="jira.updated.date">1586336667064</meta>
  <initial-actions>
    <action id="1" name="Create">
      <validators>
        <validator name="" type="class">
          <arg name="permission">Create Issue</arg>
          <arg name="class.name">com.atlassian.jira.workflow.validator.PermissionValidator</arg>
        </validator>
        <validator name="" type="class">
          <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.validators.SimpleScriptedValidator</arg>
          <arg name="FIELD_CONDITION">import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.ComponentManager
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.issue.label.LabelManager

componentManager = ComponentManager.instance
userUtil = componentManager.getUserUtil()

def	indexManager = componentManager.getIndexManager()

def com.atlassian.crowd.embedded.api.User currentUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()

(!userUtil.getGroupNamesForUser(currentUser.name).contains(&quot;HS-customers&quot;) &amp;&amp; issue.getProjectObject().key == 'HS' &amp;&amp;  cfValues['Backend Assignee'] != null &amp;&amp; issue.assignee != null) || userUtil.getGroupNamesForUser(currentUser.name).contains(&quot;HS-customers&quot;) || (currentUser.name == 'atlassian' &amp;&amp; issue.getProjectObject().key == 'BEHS')</arg>
          <arg name="class.name">com.onresolve.jira.groovy.GroovyValidator</arg>
          <arg name="FIELD_ERROR_MSG">Assignee and Backend Assignee must be completed to proceed</arg>
          <arg name="FIELD_FORM_FIELD">assignee</arg>
        </validator>
      </validators>
      <results>
        <unconditional-result old-status="null" status="open" step="1">
          <post-functions>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueCreateFunction</arg>
            </function>
            <function type="class">
              <arg name="FIELD_NOTES">Label issue as HSPortal issue</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="FIELD_INLINE_SCRIPT">import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.ComponentManager
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.issue.label.LabelManager

componentManager = ComponentManager.instance
userUtil = componentManager.getUserUtil()

def	indexManager = componentManager.getIndexManager()

def com.atlassian.crowd.embedded.api.User currentUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()

if (userUtil.getGroupNamesForUser(currentUser.name).contains(&quot;HS-customers&quot;) &amp;&amp; !userUtil.getGroupNamesForUser(currentUser.name).contains(&quot;HS-internal-reporters&quot;)){
	LabelManager labelManager = ComponentAccessor.getComponent(LabelManager)
	def labels = labelManager.getLabels(issue.id).collect{it.getLabel()}
	labels += 'HSPortal'
	labelManager.setLabels(currentUser,issue.id,labels.toSet(),false,false)

	indexManager.reIndex(issue);
}

if (userUtil.getGroupNamesForUser(currentUser.name).contains(&quot;HS-internal-reporters&quot;)){
	LabelManager labelManager = ComponentAccessor.getComponent(LabelManager)
	def labels = labelManager.getLabels(issue.id).collect{it.getLabel()}
	labels += 'InternalHS'
	labelManager.setLabels(currentUser,issue.id,labels.toSet(),false,false)

	indexManager.reIndex(issue);
}</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_SCRIPT_FILE"></arg>
            </function>
            <function type="class">
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="FIELD_INLINE_SCRIPT">/* Update issue summary for issues created from Support Portal */
import com.atlassian.jira.ComponentManager
import com.atlassian.jira.issue.fields.CustomField
import com.atlassian.jira.issue.CustomFieldManager
import com.atlassian.jira.user.util.UserUtil
import com.atlassian.jira.issue.IssueManager
import com.atlassian.jira.issue.ModifiedValue
import com.atlassian.jira.issue.util.IssueChangeHolder
import com.atlassian.jira.issue.util.DefaultIssueChangeHolder
import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.event.type.EventDispatchOption

ComponentManager componentManager = ComponentManager.getInstance()
CustomFieldManager customFieldManager =	componentManager.getCustomFieldManager()
IssueManager issueManager = componentManager.getIssueManager()
def indexManager = componentManager.getIndexManager()
IssueChangeHolder changeHolder = new DefaultIssueChangeHolder()
userUtil = componentManager.getUserUtil()
def com.atlassian.crowd.embedded.api.User currentUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()

//Request Installation Number
CustomField requestInstNumb = customFieldManager.getCustomFieldObject(14124)
Object requestInstNumbValue = issue.getCustomFieldValue(requestInstNumb).toString()

if (userUtil.getGroupNamesForUser(currentUser.name).contains(&quot;HS-customers&quot;) &amp;&amp; !userUtil.getGroupNamesForUser(currentUser.name).contains(&quot;HS-internal-reporters&quot;)){
    issue.summary = &quot;[&quot; + issue.key + &quot;] [&quot; + requestInstNumbValue.substring(0,requestInstNumbValue.indexOf(&quot;-&quot;)-1) + &quot;] &quot; + issue.summary  
    issueManager.updateIssue(currentUser, issue, EventDispatchOption.DO_NOT_DISPATCH, false)
	indexManager.reIndex(issue);  
}


</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_SCRIPT_FILE"></arg>
            </function>
            <function type="class">
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="FIELD_INLINE_SCRIPT">import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.ComponentManager
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.issue.label.LabelManager

componentManager = ComponentManager.instance
userUtil = componentManager.getUserUtil()

def com.atlassian.crowd.embedded.api.User oldUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()
ComponentManager.instance.jiraAuthenticationContext.setLoggedInUser(ComponentAccessor.getUserUtil().getUserObject(&quot;atlassian&quot;))
def com.atlassian.crowd.embedded.api.User currentUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()

def	indexManager = componentManager.getIndexManager()

if (userUtil.getGroupNamesForUser(oldUser.name).contains(&quot;HS-internal-reporters&quot;)){
    issue.setAssignee(ComponentManager.instance.userUtil.getUserObject(&quot;alessandro.guidetti&quot;))
	indexManager.reIndex(issue);
    ComponentManager.instance.jiraAuthenticationContext.setLoggedInUser(oldUser)
}</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_SCRIPT_FILE"></arg>
            </function>
            <function type="class">
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="FIELD_INLINE_SCRIPT">import com.atlassian.jira.ComponentManager
import com.atlassian.jira.issue.fields.CustomField
import com.atlassian.jira.issue.CustomFieldManager
import com.atlassian.jira.user.util.UserUtil
import com.atlassian.jira.issue.IssueManager
import org.apache.log4j.Level
import com.atlassian.jira.issue.customfields.view.CustomFieldParams
import com.atlassian.jira.issue.customfields.option.Option
import com.atlassian.jira.issue.fields.CustomField
import com.atlassian.jira.issue.ModifiedValue
import com.atlassian.jira.issue.customfields.view.CustomFieldParams
import com.atlassian.jira.issue.customfields.option.LazyLoadedOption
import com.atlassian.jira.issue.customfields.impl.CascadingSelectCFType
import com.atlassian.jira.issue.util.IssueChangeHolder
import com.atlassian.jira.issue.util.DefaultIssueChangeHolder
import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.user.util.UserManager
 
ComponentManager componentManager = ComponentManager.getInstance()
CustomFieldManager customFieldManager =	componentManager.getCustomFieldManager()
IssueManager issueManager = componentManager.getIssueManager()
def indexManager = componentManager.getIndexManager()
IssueChangeHolder changeHolder = new DefaultIssueChangeHolder()

User oldUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()
ComponentManager.instance.jiraAuthenticationContext.setLoggedInUser(ComponentAccessor.getUserUtil().getUserObject(&quot;atlassian&quot;))

//Request Brand
CustomField requestBrand = customFieldManager.getCustomFieldObject(14122)
Object requestBrandValue = issue.getCustomFieldValue(requestBrand).toString()

//Request Environment
CustomField requestEnv = customFieldManager.getCustomFieldObject(14123)
Object requestEnvValue = issue.getCustomFieldValue(requestEnv).toString()

//Request Installation Number
CustomField requestInstNumb = customFieldManager.getCustomFieldObject(14124)
Object requestInstNumbValue = issue.getCustomFieldValue(requestInstNumb).toString()


def customFieldID

switch(requestBrandValue){
	case &quot;Datapark&quot;:
    	switch(requestEnvValue){
            case &quot;Hardware&quot;:
            	customFieldID = 14102
            break
            case &quot;Software&quot;:
                customFieldID = 14103			
            break
            case &quot;Manuals&quot;:
                customFieldID = 14116			
            break
         }
    break
        
    case &quot;Orion&quot;:
    	switch(requestEnvValue){
            case &quot;Hardware&quot;:
            	customFieldID = 14104
            break
            case &quot;Software&quot;:
                customFieldID = 14106			
            break
            case &quot;Manuals&quot;:
                customFieldID = 14105			
            break
         }
    break
        
    case &quot;Orion XR&quot;:
    	switch(requestEnvValue){
            case &quot;Hardware&quot;:
            	customFieldID = 14107
            break
            case &quot;Software&quot;:
                customFieldID = 14109			
            break
            case &quot;Manuals&quot;:
                customFieldID = 14108			
            break
         }
   	break
        
    case &quot;Zeag&quot;:
    	switch(requestEnvValue){
            case &quot;Hardware&quot;:
            	customFieldID = 14119
            break
            case &quot;Software&quot;:
                customFieldID = 14121			
            break
            case &quot;Manuals&quot;:
                customFieldID = 14120			
            break
         }
    break
        
    case &quot;Parqube&quot;:
    	switch(requestEnvValue){
            case &quot;Hardware&quot;:
            	customFieldID = 14116
            break
            case &quot;Software&quot;:
                customFieldID = 14118			
            break
            case &quot;Manuals&quot;:
                customFieldID = 14117			
            break
         }
    break
        
    case &quot;Paragon&quot;:
    	switch(requestEnvValue){
            case &quot;Hardware&quot;:
            	customFieldID = 14110
            break
            case &quot;Software&quot;:
                customFieldID = 14112			
            break
            case &quot;Manuals&quot;:
                customFieldID = 14111			
            break
         }
    break
        
    case &quot;Parkplus&quot;:
    	switch(requestEnvValue){
            case &quot;Hardware&quot;:
            	customFieldID = 14113
            break
            case &quot;Software&quot;:
                customFieldID = 14115			
            break
            case &quot;Manuals&quot;:
                customFieldID = 14114			
            break
         }
    break

}



CustomField prod = customFieldManager.getCustomFieldObject(customFieldID)
Object prodValue = issue.getCustomFieldValue(prod)

Option parent
Option child

HashMap&lt;String, Option&gt; hashMapEntries = (HashMap&lt;String, Option&gt;) prodValue
if (hashMapEntries != null) {
parent = hashMapEntries.get(CascadingSelectCFType.PARENT_KEY)
child = hashMapEntries.get(CascadingSelectCFType.CHILD_KEY)
}

CustomField brand = customFieldManager.getCustomFieldObject(12900)
Object brandValue = issue.getCustomFieldValue(brand)
brand.updateValue(null, issue, new ModifiedValue(brandValue,requestBrandValue),changeHolder)

CustomField envirnoment = customFieldManager.getCustomFieldObject(12901)
Object envirnomentValue = issue.getCustomFieldValue(envirnoment)
envirnoment.updateValue(null, issue, new ModifiedValue(envirnomentValue,requestEnvValue),changeHolder)

CustomField family = customFieldManager.getCustomFieldObject(12902)
Object familyValue = issue.getCustomFieldValue(family)
family.updateValue(null, issue, new ModifiedValue(familyValue,parent.toString()),changeHolder)

CustomField product = customFieldManager.getCustomFieldObject(12903)
Object productValue = issue.getCustomFieldValue(product)
product.updateValue(null, issue, new ModifiedValue(productValue,child.toString()),changeHolder)


CustomField instNumber = customFieldManager.getCustomFieldObject(11002)
Object instNumberValue = issue.getCustomFieldValue(instNumber)
instNumber.updateValue(null, issue, new ModifiedValue(instNumberValue,requestInstNumbValue),changeHolder)

indexManager.reIndex(issue);

ComponentManager.instance.jiraAuthenticationContext.setLoggedInUser(oldUser)</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_SCRIPT_FILE"></arg>
            </function>
            <function type="class">
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="FIELD_INLINE_SCRIPT">//Aggiornamento &quot;Request Participants&quot;
import com.atlassian.jira.util.ImportUtils
import com.atlassian.jira.issue.util.IssueChangeHolder
import com.atlassian.jira.issue.util.DefaultIssueChangeHolder
import com.atlassian.jira.ComponentManager
import com.atlassian.jira.issue.Issue
import com.atlassian.jira.issue.ModifiedValue
import com.atlassian.jira.issue.CustomFieldManager
import com.atlassian.jira.issue.fields.CustomField
import com.atlassian.jira.issue.index.IssueIndexManager
import com.atlassian.jira.index.Index.Manager
import com.atlassian.jira.event.type.EventDispatchOption
import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.user.ApplicationUser
import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.user.util.UserManager
import com.atlassian.crowd.embedded.api.Group

def groupManager = ComponentAccessor.getGroupManager()

ComponentManager componentManager = ComponentManager.getInstance()
CustomFieldManager customFieldManager = componentManager.getCustomFieldManager()
def indexManager = componentManager.getIndexManager()
IssueChangeHolder changeHolder = new DefaultIssueChangeHolder()
CustomField requestParticipants = customFieldManager.getCustomFieldObject(14100)
CustomField ccAddresses = customFieldManager.getCustomFieldObject(14404)

//In produzione aggiungere il cambio utente in modo che la modifica la faccia 'atlassian'
User oldUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()
ComponentManager.instance.jiraAuthenticationContext.setLoggedInUser(ComponentAccessor.getUserUtil().getUserObject(&quot;atlassian&quot;))

userUtil = componentManager.getUserUtil()
List&lt;ApplicationUser&gt; requestParticipantsList = []
List&lt;ApplicationUser&gt; ccAddressesList = []
def v_jiraGroup = null
com.atlassian.crowd.embedded.api.Group not_jiraGroup = null

userUtil.getGroupNamesForUser(issue.reporter.name).each { group -&gt;
    // Ricerco il gruppo di appartenenza dell'utente - non HS-customers a cui appartengono tutti gli utenti ma quello specifico del team di visibilità
	if(group != &quot;HS-customers&quot; &amp;&amp; group.contains(&quot;HS-Visibility-&quot;)){
        v_jiraGroup = group
        retValue = groupManager.getUsersInGroup(group).each{ user -&gt;
            if(user.getName() != issue.reporter.name){
            	requestParticipantsList.add(userUtil.getUserByName(user.getName()));
            }
        }
    }
}

if (v_jiraGroup != null){
	n_jiraGroup = &quot;HS-Notifications-&quot; + v_jiraGroup.substring(0+v_jiraGroup.indexOf(&quot;Visibility-&quot;)+11,v_jiraGroup.size())
	not_jiraGroup = ComponentAccessor.getUserManager().getGroup(n_jiraGroup);
}    

if (not_jiraGroup != null){
    retValue = groupManager.getUsersInGroup(not_jiraGroup).each{ user -&gt;
           	ccAddressesList.add(userUtil.getUserByName(user.getName()));
    }
}

if(requestParticipantsList.size &gt; 0){
	requestParticipants.updateValue(null, issue, new ModifiedValue(issue.getCustomFieldValue(requestParticipants),requestParticipantsList),changeHolder)
    indexManager.reIndex(issue);
}

if(ccAddressesList.size &gt; 0){
	ccAddresses.updateValue(null, issue, new ModifiedValue(issue.getCustomFieldValue(ccAddresses),ccAddressesList),changeHolder)
    indexManager.reIndex(issue);
}

ComponentManager.instance.jiraAuthenticationContext.setLoggedInUser(oldUser)</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_SCRIPT_FILE"></arg>
            </function>
            <function type="class">
              <arg name="FIELD_FROM">support@hubparking.com</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS">FIELD_INCLUDE_ATTACHMENTS_NONE</arg>
              <arg name="FIELD_TO_ADDRESSES">Marcel.Feusi@hubparking.com, Erich.Muehlebach@hubparking.com, Erik.Steiert@hubparking.com, Peter.Keller@hubparking.com</arg>
              <arg name="FIELD_CC_ADDRESSES">alessandro.guidetti@hubparking.com</arg>
              <arg name="FIELD_CC_USER_FIELDS"></arg>
              <arg name="FIELD_TO_USER_FIELDS"></arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS_CALLBACK"></arg>
              <arg name="FIELD_EMAIL_TEMPLATE">&lt;head&gt;
	&lt;style type=&quot;text/css&quot;&gt;
		td, a, h2 {color: #003050}
		.value, .label {color: #003050}
		.request-status {color: #003050}
		.header-request-link {color: #6ba539}
	&lt;/style&gt;
&lt;/head&gt;

&lt;body style=&quot;background-color: #f5f5f5; font-size: 16px; font-family: sans-serif&quot;&gt;
        &lt;span class=&quot;preheader&quot; style=&quot;display: none !important; font-size:1px; line-height: 1px; color: #cccccc; display: none; font-size: 1px; line-height: 1px&quot;&gt;Status of the request $issue.summary with key $issue has been changed... &lt;/span&gt;&lt;center&gt;
            &lt;table id=&quot;email-wrap&quot; valign=&quot;top&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; background-color: #f5f5f5; font-size: 16px; font-family: sans-serif&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td align=&quot;center&quot; id=&quot;email-wrap-cell&quot; style=&quot;padding: 20px 10px 10px&quot;&gt;
                            &lt;table id=&quot;email-container&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; width: 600px; line-height: 1,500&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td align=&quot;left&quot;&gt;
                                            &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif&quot;&gt;
                                                &lt;tbody&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-header&quot; style=&quot;padding: 10px 20px; border: solid #ddd; border-width: 1px 2px 1px 1px; border-bottom-color: #f5f5f5; background-color: #fff; font-weight: normal; line-height: 1,200&quot;&gt;
                                                            &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; width: 100%&quot;&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
																		&lt;td class=&quot;viewport-details&quot; style=&quot;width: 100%&quot; align=&quot;right&quot; colspan=&quot;2&quot;&gt;
																			&lt;img src=&quot;/images/loghi/HUB Logo2.jpg&quot;/&gt;
																		&lt;/td&gt;
																	&lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;viewport-details&quot; style=&quot;width: 50%&quot;&gt;
                                                                            &lt;a href=&quot;&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString(&quot;jira.baseurl&quot;) %&gt;/browse/$issue&quot; style=&quot;font-size: 14px; font-weight: normal; text-decoration: none&quot;&gt;&lt;strong style=&quot;font-weight: bold&quot;&gt;HUB Support Portal&lt;/strong&gt; - Support Request&lt;/a&gt;
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;request-key&quot; style=&quot;width: 50%; text-align: right; font-size: 12px; line-height: 18px; text-decoration: none&quot;&gt;
                                                                            &lt;!-- &lt;a href=&quot;http://support.hubparking.com/servicedesk/customer/portal/2/$issue&quot; style=&quot;font-size: 14px; font-weight: normal; text-decoration: none; color: #707070&quot;&gt;Reference: &lt;strong style=&quot;font-weight: bold&quot;&gt;[$issue]&lt;/strong&gt;&lt;/a&gt; --&gt;
																			Reference: &lt;strong style=&quot;font-weight: bold&quot;&gt;$issue&lt;/strong&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-content-important email-heading&quot; style=&quot;text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding-top: 10px; border-top-color: #f5f5f5&quot;&gt;
                                                            &lt;h1 style=&quot;margin: 0; line-height: 1,200; font-size: 22px; font-weight: bold; color: #111&quot;&gt;&lt;a href=&quot;&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString(&quot;jira.baseurl&quot;) %&gt;/browse/$issue&quot; class=&quot;header-request-link&quot; style=&quot;text-decoration: none&quot;&gt;$issue.summary&lt;/a&gt; &lt;span class=&quot;request-status aui-lozenge aui-lozenge-current&quot; style=&quot;background-color: #cccccd; border: 1px solid #cccccd; border-radius: 3px; color: #333; display: inline-block; font-size: 11px; font-weight: bold; line-height: 1; padding: 2px 5px 1px 5px; text-align: center; text-decoration: none; text-transform: uppercase; background-color: #4A6785; border-color: #4A6785; color: #ffffff; margin-left: 5px; font-weight: bold; font-size: 14px&quot;&gt;$issue.status.name&lt;/span&gt;&lt;/h1&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-actions email-content-important&quot; style=&quot;text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding: 20px; padding-top: 0; padding-bottom: 20px; border-top-width: 0; border-bottom-width: 2px&quot;&gt;
                                                            You can &lt;a href=&quot;&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString(&quot;jira.baseurl&quot;) %&gt;/browse/$issue&quot;&gt;view the full request&lt;/a&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
													&lt;tr&gt;
                                                        &lt;td class=&quot;email-details&quot; style=&quot;padding: 20px&quot;&gt;
                                                            &lt;h2 style=&quot;margin: 0 0 10px; line-height: 1,200; font-size: 16px; font-weight: bold&quot;&gt;Details&lt;/h2&gt;
                                                            &lt;table class=&quot;email-request-details&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif&quot;&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0; width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Reporter
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.reporter.displayName %&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Brand
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Environment
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Product Family
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parqube&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14116&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14118&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14117&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Zeag&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14119&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14121&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14120&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14104&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14106&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14105&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion XR&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14107&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14109&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14108&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parkplus&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14113&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14115&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14114&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Paragon&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14110&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14112&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14111&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Datapark&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14102&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14103&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Product
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parqube&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14116&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14118&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14117&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Zeag&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14119&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14121&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14120&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14104&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14106&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14105&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion XR&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14107&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14109&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14108&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parkplus&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14113&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14115&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14114&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Paragon&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14110&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14112&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14111&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Datapark&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14102&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14103&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Affected Version / Peripheral Serial Number
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_12904&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Description
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;p&gt;$issue.description&lt;/p&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr class=&quot;last&quot;&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            What Is your installation number?
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14124&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                &lt;/tbody&gt;
                                            &lt;/table&gt;
                                        &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td id=&quot;foot-note&quot; style=&quot;padding-bottom: 20px;  font-size: 12px; line-height: 1,200&quot;&gt;
                            &lt;p style=&quot;width: 600px; text-align: center; margin: 0 auto&quot;&gt;This message is automatically generated by HUB Support Portal.&lt;br /&gt;&lt;/p&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/center&gt;
    &lt;/body&gt;</arg>
              <arg name="FIELD_EMAIL_SUBJECT_TEMPLATE">[HUB Support Portal][&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObjectByName(&quot;Request Brand&quot;)) %&gt;] $issue.summary</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.SendCustomEmail</arg>
              <arg name="FIELD_CONDITION">//ORION/ORION XR Agents notification
issue.projectObject.name == 'HUB Support' &amp;&amp; (cfValues['Request Brand']?.value == 'Orion' || cfValues['Request Brand']?.value == 'Orion XR')</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_PREVIEW_ISSUE">HS-665</arg>
              <arg name="FIELD_EMAIL_FORMAT">HTML</arg>
            </function>
            <function type="class">
              <arg name="FIELD_FROM">support@hubparking.com</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS">FIELD_INCLUDE_ATTACHMENTS_NONE</arg>
              <arg name="FIELD_TO_ADDRESSES">alessandro.guidetti@hubparking.com</arg>
              <arg name="FIELD_CC_ADDRESSES"></arg>
              <arg name="FIELD_CC_USER_FIELDS"></arg>
              <arg name="FIELD_TO_USER_FIELDS"></arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS_CALLBACK"></arg>
              <arg name="FIELD_EMAIL_TEMPLATE">&lt;head&gt;
	&lt;style type=&quot;text/css&quot;&gt;
		td, a, h2 {color: #003050}
		.value, .label {color: #003050}
		.request-status {color: #003050}
		.header-request-link {color: #6ba539}
	&lt;/style&gt;
&lt;/head&gt;

&lt;body style=&quot;background-color: #f5f5f5; font-size: 16px; font-family: sans-serif&quot;&gt;
        &lt;span class=&quot;preheader&quot; style=&quot;display: none !important; font-size:1px; line-height: 1px; color: #cccccc; display: none; font-size: 1px; line-height: 1px&quot;&gt;Status of the request $issue.summary with key $issue has been changed... &lt;/span&gt;&lt;center&gt;
            &lt;table id=&quot;email-wrap&quot; valign=&quot;top&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; background-color: #f5f5f5; font-size: 16px; font-family: sans-serif&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td align=&quot;center&quot; id=&quot;email-wrap-cell&quot; style=&quot;padding: 20px 10px 10px&quot;&gt;
                            &lt;table id=&quot;email-container&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; width: 600px; line-height: 1,500&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td align=&quot;left&quot;&gt;
                                            &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif&quot;&gt;
                                                &lt;tbody&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-header&quot; style=&quot;padding: 10px 20px; border: solid #ddd; border-width: 1px 2px 1px 1px; border-bottom-color: #f5f5f5; background-color: #fff; font-weight: normal; line-height: 1,200&quot;&gt;
                                                            &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; width: 100%&quot;&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
																		&lt;td class=&quot;viewport-details&quot; style=&quot;width: 100%&quot; align=&quot;right&quot; colspan=&quot;2&quot;&gt;
																			&lt;img src=&quot;http://support.hubparking.com/images/loghi/HUB Logo2.jpg&quot;/&gt;
																		&lt;/td&gt;
																	&lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;viewport-details&quot; style=&quot;width: 50%&quot;&gt;
                                                                            &lt;a href=&quot;&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString(&quot;jira.baseurl&quot;) %&gt;/browse/$issue&quot; style=&quot;font-size: 14px; font-weight: normal; text-decoration: none&quot;&gt;&lt;strong style=&quot;font-weight: bold&quot;&gt;HUB Support Portal&lt;/strong&gt; - Support Request&lt;/a&gt;
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;request-key&quot; style=&quot;width: 50%; text-align: right; font-size: 12px; line-height: 18px; text-decoration: none&quot;&gt;
                                                                            &lt;!-- &lt;a href=&quot;http://support.hubparking.com/servicedesk/customer/portal/2/$issue&quot; style=&quot;font-size: 14px; font-weight: normal; text-decoration: none; color: #707070&quot;&gt;Reference: &lt;strong style=&quot;font-weight: bold&quot;&gt;[$issue]&lt;/strong&gt;&lt;/a&gt; --&gt;
																			Reference: &lt;strong style=&quot;font-weight: bold&quot;&gt;$issue&lt;/strong&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-content-important email-heading&quot; style=&quot;text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding-top: 10px; border-top-color: #f5f5f5&quot;&gt;
                                                            &lt;h1 style=&quot;margin: 0; line-height: 1,200; font-size: 22px; font-weight: bold; color: #111&quot;&gt;&lt;a href=&quot;&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString(&quot;jira.baseurl&quot;) %&gt;/browse/$issue&quot; class=&quot;header-request-link&quot; style=&quot;text-decoration: none&quot;&gt;$issue.summary&lt;/a&gt; &lt;span class=&quot;request-status aui-lozenge aui-lozenge-current&quot; style=&quot;background-color: #cccccd; border: 1px solid #cccccd; border-radius: 3px; color: #333; display: inline-block; font-size: 11px; font-weight: bold; line-height: 1; padding: 2px 5px 1px 5px; text-align: center; text-decoration: none; text-transform: uppercase; background-color: #4A6785; border-color: #4A6785; color: #ffffff; margin-left: 5px; font-weight: bold; font-size: 14px&quot;&gt;$issue.status.name&lt;/span&gt;&lt;/h1&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-actions email-content-important&quot; style=&quot;text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding: 20px; padding-top: 0; padding-bottom: 20px; border-top-width: 0; border-bottom-width: 2px&quot;&gt;
                                                            You can &lt;a href=&quot;&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString(&quot;jira.baseurl&quot;) %&gt;/browse/$issue&quot;&gt;view the full request&lt;/a&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
													&lt;tr&gt;
                                                        &lt;td class=&quot;email-details&quot; style=&quot;padding: 20px&quot;&gt;
                                                            &lt;h2 style=&quot;margin: 0 0 10px; line-height: 1,200; font-size: 16px; font-weight: bold&quot;&gt;Details&lt;/h2&gt;
                                                            &lt;table class=&quot;email-request-details&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif&quot;&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0; width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Reporter
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.reporter.displayName %&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Brand
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Environment
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Product Family
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parqube&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14116&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14118&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14117&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Zeag&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14119&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14121&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14120&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14104&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14106&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14105&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion XR&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14107&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14109&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14108&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parkplus&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14113&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14115&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14114&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Paragon&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14110&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14112&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14111&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Datapark&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14102&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14103&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Product
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parqube&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14116&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14118&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14117&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Zeag&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14119&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14121&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14120&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14104&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14106&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14105&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion XR&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14107&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14109&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14108&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parkplus&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14113&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14115&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14114&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Paragon&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14110&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14112&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14111&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Datapark&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14102&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14103&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Affected Version / Peripheral Serial Number
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_12904&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Description
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;p&gt;$issue.description&lt;/p&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr class=&quot;last&quot;&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            What Is your installation number?
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14124&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                &lt;/tbody&gt;
                                            &lt;/table&gt;
                                        &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td id=&quot;foot-note&quot; style=&quot;padding-bottom: 20px;  font-size: 12px; line-height: 1,200&quot;&gt;
                            &lt;p style=&quot;width: 600px; text-align: center; margin: 0 auto&quot;&gt;This message is automatically generated by HUB Support Portal.&lt;br /&gt;&lt;/p&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/center&gt;
    &lt;/body&gt;</arg>
              <arg name="FIELD_EMAIL_SUBJECT_TEMPLATE">[HUB Support Portal][&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObjectByName(&quot;Request Brand&quot;)) %&gt;] $issue.summary</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.SendCustomEmail</arg>
              <arg name="FIELD_CONDITION">//FAAC Agents notification
issue.projectObject.name == 'HUB Support' &amp;&amp; (cfValues['Request Brand']?.value == 'Paragon' || cfValues['Request Brand']?.value == 'Parkplus' || cfValues['Request Brand']?.value == 'Parqube' || cfValues['Request Brand']?.value == 'Zeag')
</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_PREVIEW_ISSUE">HS-665</arg>
              <arg name="FIELD_EMAIL_FORMAT">HTML</arg>
            </function>
            <function type="class">
              <arg name="FIELD_FROM">support@hubparking.com</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS">FIELD_INCLUDE_ATTACHMENTS_NONE</arg>
              <arg name="FIELD_TO_ADDRESSES">lilia.slavova@hubparking.com, teodora.ivanova@hubparking.com</arg>
              <arg name="FIELD_CC_ADDRESSES">alessandro.guidetti@hubparking.com</arg>
              <arg name="FIELD_CC_USER_FIELDS"></arg>
              <arg name="FIELD_TO_USER_FIELDS"></arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS_CALLBACK"></arg>
              <arg name="FIELD_EMAIL_TEMPLATE">&lt;head&gt;
	&lt;style type=&quot;text/css&quot;&gt;
		td, a, h2 {color: #003050}
		.value, .label {color: #003050}
		.request-status {color: #003050}
		.header-request-link {color: #6ba539}
	&lt;/style&gt;
&lt;/head&gt;

&lt;body style=&quot;background-color: #f5f5f5; font-size: 16px; font-family: sans-serif&quot;&gt;
        &lt;span class=&quot;preheader&quot; style=&quot;display: none !important; font-size:1px; line-height: 1px; color: #cccccc; display: none; font-size: 1px; line-height: 1px&quot;&gt;Status of the request $issue.summary with key $issue has been changed... &lt;/span&gt;&lt;center&gt;
            &lt;table id=&quot;email-wrap&quot; valign=&quot;top&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; background-color: #f5f5f5; font-size: 16px; font-family: sans-serif&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td align=&quot;center&quot; id=&quot;email-wrap-cell&quot; style=&quot;padding: 20px 10px 10px&quot;&gt;
                            &lt;table id=&quot;email-container&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; width: 600px; line-height: 1,500&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td align=&quot;left&quot;&gt;
                                            &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif&quot;&gt;
                                                &lt;tbody&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-header&quot; style=&quot;padding: 10px 20px; border: solid #ddd; border-width: 1px 2px 1px 1px; border-bottom-color: #f5f5f5; background-color: #fff; font-weight: normal; line-height: 1,200&quot;&gt;
                                                            &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; width: 100%&quot;&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
																		&lt;td class=&quot;viewport-details&quot; style=&quot;width: 100%&quot; align=&quot;right&quot; colspan=&quot;2&quot;&gt;
																			&lt;img src=&quot;/images/loghi/HUB Logo2.jpg&quot;/&gt;
																		&lt;/td&gt;
																	&lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;viewport-details&quot; style=&quot;width: 50%&quot;&gt;
                                                                            &lt;a href=&quot;&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString(&quot;jira.baseurl&quot;) %&gt;/browse/$issue&quot; style=&quot;font-size: 14px; font-weight: normal; text-decoration: none&quot;&gt;&lt;strong style=&quot;font-weight: bold&quot;&gt;HUB Support Portal&lt;/strong&gt; - Support Request&lt;/a&gt;
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;request-key&quot; style=&quot;width: 50%; text-align: right; font-size: 12px; line-height: 18px; text-decoration: none&quot;&gt;
                                                                            &lt;!-- &lt;a href=&quot;http://support.hubparking.com/servicedesk/customer/portal/2/$issue&quot; style=&quot;font-size: 14px; font-weight: normal; text-decoration: none; color: #707070&quot;&gt;Reference: &lt;strong style=&quot;font-weight: bold&quot;&gt;[$issue]&lt;/strong&gt;&lt;/a&gt; --&gt;
																			Reference: &lt;strong style=&quot;font-weight: bold&quot;&gt;$issue&lt;/strong&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-content-important email-heading&quot; style=&quot;text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding-top: 10px; border-top-color: #f5f5f5&quot;&gt;
                                                            &lt;h1 style=&quot;margin: 0; line-height: 1,200; font-size: 22px; font-weight: bold; color: #111&quot;&gt;&lt;a href=&quot;&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString(&quot;jira.baseurl&quot;) %&gt;/browse/$issue&quot; class=&quot;header-request-link&quot; style=&quot;text-decoration: none&quot;&gt;$issue.summary&lt;/a&gt; &lt;span class=&quot;request-status aui-lozenge aui-lozenge-current&quot; style=&quot;background-color: #cccccd; border: 1px solid #cccccd; border-radius: 3px; color: #333; display: inline-block; font-size: 11px; font-weight: bold; line-height: 1; padding: 2px 5px 1px 5px; text-align: center; text-decoration: none; text-transform: uppercase; background-color: #4A6785; border-color: #4A6785; color: #ffffff; margin-left: 5px; font-weight: bold; font-size: 14px&quot;&gt;$issue.status.name&lt;/span&gt;&lt;/h1&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-actions email-content-important&quot; style=&quot;text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding: 20px; padding-top: 0; padding-bottom: 20px; border-top-width: 0; border-bottom-width: 2px&quot;&gt;
                                                            You can &lt;a href=&quot;&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString(&quot;jira.baseurl&quot;) %&gt;/browse/$issue&quot;&gt;view the full request&lt;/a&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
													&lt;tr&gt;
                                                        &lt;td class=&quot;email-details&quot; style=&quot;padding: 20px&quot;&gt;
                                                            &lt;h2 style=&quot;margin: 0 0 10px; line-height: 1,200; font-size: 16px; font-weight: bold&quot;&gt;Details&lt;/h2&gt;
                                                            &lt;table class=&quot;email-request-details&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif&quot;&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0; width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Reporter
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.reporter.displayName %&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Brand
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Environment
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Product Family
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parqube&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14116&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14118&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14117&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Zeag&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14119&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14121&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14120&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14104&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14106&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14105&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion XR&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14107&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14109&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14108&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parkplus&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14113&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14115&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14114&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Paragon&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14110&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14112&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14111&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Datapark&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14102&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14103&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Product
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parqube&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14116&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14118&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14117&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Zeag&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14119&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14121&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14120&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14104&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14106&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14105&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion XR&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14107&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14109&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14108&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parkplus&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14113&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14115&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14114&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Paragon&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14110&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14112&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14111&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Datapark&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14102&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14103&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Affected Version / Peripheral Serial Number
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_12904&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Description
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;p&gt;$issue.description&lt;/p&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr class=&quot;last&quot;&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            What Is your installation number?
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14124&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                &lt;/tbody&gt;
                                            &lt;/table&gt;
                                        &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td id=&quot;foot-note&quot; style=&quot;padding-bottom: 20px;  font-size: 12px; line-height: 1,200&quot;&gt;
                            &lt;p style=&quot;width: 600px; text-align: center; margin: 0 auto&quot;&gt;This message is automatically generated by HUB Support Portal.&lt;br /&gt;&lt;/p&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/center&gt;
    &lt;/body&gt;</arg>
              <arg name="FIELD_EMAIL_SUBJECT_TEMPLATE">[HUB Support Portal][&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObjectByName(&quot;Request Brand&quot;)) %&gt;] $issue.summary</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.SendCustomEmail</arg>
              <arg name="FIELD_CONDITION">//DATAPARK Agent notification
issue.projectObject.name == 'HUB Support' &amp;&amp; cfValues['Request Brand']?.value == 'Datapark'</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_PREVIEW_ISSUE">HS-665</arg>
              <arg name="FIELD_EMAIL_FORMAT">HTML</arg>
            </function>
            <function type="class">
              <arg name="FIELD_FROM">support@hubparking.com</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS">FIELD_INCLUDE_ATTACHMENTS_NONE</arg>
              <arg name="FIELD_TO_ADDRESSES"></arg>
              <arg name="FIELD_CC_ADDRESSES"></arg>
              <arg name="FIELD_CC_USER_FIELDS"></arg>
              <arg name="FIELD_TO_USER_FIELDS">reporter</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS_CALLBACK"></arg>
              <arg name="FIELD_EMAIL_TEMPLATE">&lt;head&gt;
	&lt;style type=&quot;text/css&quot;&gt;
		td, a, h2 {color: #003050}
		.value, .label {color: #003050}
		.request-status {color: #003050}
		.header-request-link {color: #6ba539}
	&lt;/style&gt;
&lt;/head&gt;

&lt;body style=&quot;background-color: #f5f5f5; font-size: 16px; font-family: sans-serif&quot;&gt;
        &lt;span class=&quot;preheader&quot; style=&quot;display: none !important; font-size:1px; line-height: 1px; color: #cccccc; display: none; font-size: 1px; line-height: 1px&quot;&gt;Status of the request $issue.summary with key $issue has been changed... &lt;/span&gt;&lt;center&gt;
            &lt;table id=&quot;email-wrap&quot; valign=&quot;top&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; background-color: #f5f5f5; font-size: 16px; font-family: sans-serif&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td align=&quot;center&quot; id=&quot;email-wrap-cell&quot; style=&quot;padding: 20px 10px 10px&quot;&gt;
                            &lt;table id=&quot;email-container&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; width: 600px; line-height: 1,500&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td align=&quot;left&quot;&gt;
                                            &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif&quot;&gt;
                                                &lt;tbody&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-header&quot; style=&quot;padding: 10px 20px; border: solid #ddd; border-width: 1px 2px 1px 1px; border-bottom-color: #f5f5f5; background-color: #fff; font-weight: normal; line-height: 1,200&quot;&gt;
                                                            &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; width: 100%&quot;&gt;
                                                                &lt;tbody&gt;
                                                                    &lt;tr&gt;
																		&lt;td class=&quot;viewport-details&quot; style=&quot;width: 100%&quot; align=&quot;right&quot; colspan=&quot;2&quot;&gt;
																			&lt;img src=&quot;/images/loghi/HUB Logo2.jpg&quot;/&gt;
																		&lt;/td&gt;
																	&lt;/tr&gt;
																	&lt;tr&gt;
                                                                        &lt;td class=&quot;viewport-details&quot; style=&quot;width: 50%&quot;&gt;
																			&lt;a href=&quot;http://support.hubparking.com/servicedesk/customer/portal/2&quot; style=&quot;font-size: 14px; font-weight: normal; text-decoration: none&quot;&gt;&lt;strong style=&quot;font-weight: bold&quot;&gt;HUB Support Portal&lt;/strong&gt; - Support Request&lt;/a&gt;
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;request-key&quot; style=&quot;width: 50%; text-align: right; font-size: 12px; line-height: 18px; text-decoration: none&quot;&gt;
                                                                            &lt;!-- &lt;a href=&quot;http://support.hubparking.com/servicedesk/customer/portal/2/$issue&quot; style=&quot;font-size: 14px; font-weight: normal; text-decoration: none; color: #707070&quot;&gt;Reference: &lt;strong style=&quot;font-weight: bold&quot;&gt;[$issue]&lt;/strong&gt;&lt;/a&gt; --&gt;
																			Reference: &lt;strong style=&quot;font-weight: bold&quot;&gt;$issue&lt;/strong&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-content-important email-heading&quot; style=&quot;text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding-top: 10px; border-top-color: #f5f5f5&quot;&gt;
															&lt;h1 style=&quot;margin: 0; line-height: 1,200; font-size: 22px; font-weight: bold&quot;&gt;&lt;a href=&quot;http://support.hubparking.com/servicedesk/customer/portal/2/$issue&quot; class=&quot;header-request-link&quot; style=&quot;text-decoration: none&quot;&gt;$issue.summary&lt;/a&gt; &lt;span class=&quot;request-status aui-lozenge aui-lozenge-current&quot; style=&quot;background-color: #cccccd; border: 1px solid #cccccd; border-radius: 3px; color: #333; display: inline-block; font-size: 11px; font-weight: bold; line-height: 1; padding: 2px 5px 1px 5px; text-align: center; text-decoration: none; text-transform: uppercase; background-color: #4A6785; border-color: #4A6785; color: #ffffff; margin-left: 5px; font-weight: bold; font-size: 14px&quot;&gt;$issue.status.name&lt;/span&gt;&lt;/h1&gt;
														&lt;/td&gt;
                                                    &lt;/tr&gt;
													
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-actions email-content-important&quot; style=&quot;text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding: 20px; padding-top: 0; padding-bottom: 20px; border-top-width: 0; border-bottom-width: 2px&quot;&gt;
															You can &lt;a href=&quot;http://support.hubparking.com/servicedesk/customer/portal/2/$issue&quot;&gt;view the full request&lt;/a&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
													
													&lt;tr&gt;
                                                        &lt;td class=&quot;email-details&quot; style=&quot;padding: 20px&quot;&gt;
                                                            &lt;h2 style=&quot;margin: 0 0 10px; line-height: 1,200; font-size: 16px; font-weight: bold&quot;&gt;Details&lt;/h2&gt;
                                                            &lt;table class=&quot;email-request-details&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif&quot;&gt;
                                                                &lt;tbody&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Brand
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Environment
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Product Family
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parqube&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14116&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14118&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14117&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Zeag&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14119&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14121&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14120&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14104&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14106&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14105&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion XR&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14107&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14109&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14108&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parkplus&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14113&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14115&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14114&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Paragon&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14110&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14112&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14111&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Datapark&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14102&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14103&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Product
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parqube&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14116&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14118&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14117&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Zeag&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14119&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14121&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14120&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14104&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14106&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14105&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion XR&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14107&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14109&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14108&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parkplus&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14113&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14115&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14114&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Paragon&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14110&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14112&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14111&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Datapark&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14102&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14103&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Affected Version / Peripheral Serial Number
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_12904&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Description
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;p&gt;$issue.description&lt;/p&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr class=&quot;last&quot;&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            What Is your installation number?
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14124&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                &lt;/tbody&gt;
                                            &lt;/table&gt;
                                        &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td id=&quot;foot-note&quot; style=&quot;padding-bottom: 20px;  font-size: 12px; line-height: 1,200&quot;&gt;
                            &lt;p style=&quot;width: 600px; text-align: center; margin: 0 auto&quot;&gt;This message is automatically generated by HUB Support Portal.&lt;br /&gt;&lt;/p&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/center&gt;
    &lt;/body&gt;</arg>
              <arg name="FIELD_EMAIL_SUBJECT_TEMPLATE">[HUB Support Portal] $issue.summary</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.SendCustomEmail</arg>
              <arg name="FIELD_CONDITION">import com.atlassian.jira.component.ComponentAccessor

def groupManager = ComponentAccessor.getGroupManager()
issue.projectObject.name == 'HUB Support' &amp;&amp; groupManager.isUserInGroup(issue.reporter?.name, 'HS-customers')
</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_PREVIEW_ISSUE">HS-665</arg>
              <arg name="FIELD_EMAIL_FORMAT">HTML</arg>
            </function>
            <function type="class">
              <arg name="FIELD_FROM">support@hubparking.com</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS">FIELD_INCLUDE_ATTACHMENTS_NONE</arg>
              <arg name="FIELD_TO_ADDRESSES"></arg>
              <arg name="FIELD_CC_ADDRESSES"></arg>
              <arg name="FIELD_CC_USER_FIELDS"></arg>
              <arg name="FIELD_TO_USER_FIELDS">reporter</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS_CALLBACK"></arg>
              <arg name="FIELD_EMAIL_TEMPLATE">&lt;head&gt;
	&lt;style type=&quot;text/css&quot;&gt;
		td, a, h2 {color: #003050}
		.value, .label {color: #003050}
		.request-status {color: #003050}
		.header-request-link {color: #6ba539}
	&lt;/style&gt;
&lt;/head&gt;

&lt;body style=&quot;background-color: #f5f5f5; font-size: 16px; font-family: sans-serif&quot;&gt;
        &lt;span class=&quot;preheader&quot; style=&quot;display: none !important; font-size:1px; line-height: 1px; color: #cccccc;; display: none; font-size: 1px; line-height: 1px&quot;&gt;Status of the request $issue.summary with key $issue has been changed... &lt;/span&gt;&lt;center&gt;
            &lt;table id=&quot;email-wrap&quot; valign=&quot;top&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; background-color: #f5f5f5; font-size: 16px; font-family: sans-serif&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td align=&quot;center&quot; id=&quot;email-wrap-cell&quot; style=&quot;padding: 20px 10px 10px&quot;&gt;
                            &lt;table id=&quot;email-container&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; width: 600px; line-height: 1,500&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td align=&quot;left&quot;&gt;
                                            &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif&quot;&gt;
                                                &lt;tbody&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-header&quot; style=&quot;padding: 10px 20px; border: solid #ddd; border-width: 1px 2px 1px 1px; border-bottom-color: #f5f5f5; background-color: #fff; font-weight: normal; line-height: 1,200&quot;&gt;
                                                            &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif; width: 100%&quot;&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
																		&lt;td class=&quot;viewport-details&quot; style=&quot;width: 100%&quot; align=&quot;right&quot; colspan=&quot;2&quot;&gt;
																			&lt;img src=&quot;/images/loghi/HUB Logo2.jpg&quot;/&gt;
																		&lt;/td&gt;
																	&lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;viewport-details&quot; style=&quot;width: 50%&quot;&gt;
                                                                            &lt;a href=&quot;&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString(&quot;jira.baseurl&quot;) %&gt;/browse/$issue&quot; style=&quot;font-size: 14px; font-weight: normal; text-decoration: none&quot;&gt;&lt;strong style=&quot;font-weight: bold&quot;&gt;HUB Support Portal&lt;/strong&gt; - Support Request&lt;/a&gt;
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;request-key&quot; style=&quot;width: 50%; text-align: right; font-size: 12px; line-height: 18px; text-decoration: none&quot;&gt;
                                                                            &lt;!-- &lt;a href=&quot;http://support.hubparking.com/servicedesk/customer/portal/2/$issue&quot; style=&quot;font-size: 14px; font-weight: normal; text-decoration: none; color: #707070&quot;&gt;Reference: &lt;strong style=&quot;font-weight: bold&quot;&gt;[$issue]&lt;/strong&gt;&lt;/a&gt; --&gt;
																			Reference: &lt;strong style=&quot;font-weight: bold&quot;&gt;$issue&lt;/strong&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-content-important email-heading&quot; style=&quot;text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding-top: 10px; border-top-color: #f5f5f5&quot;&gt;
                                                            &lt;h1 style=&quot;margin: 0; line-height: 1,200; font-size: 22px; font-weight: bold&quot;&gt;&lt;a href=&quot;&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString(&quot;jira.baseurl&quot;) %&gt;/browse/$issue&quot; class=&quot;header-request-link&quot; style=&quot;text-decoration: none&quot;&gt;$issue.summary&lt;/a&gt; &lt;span class=&quot;request-status aui-lozenge aui-lozenge-current&quot; style=&quot;background-color: #cccccd; border: 1px solid #cccccd; border-radius: 3px; color: #333; display: inline-block; font-size: 11px; font-weight: bold; line-height: 1; padding: 2px 5px 1px 5px; text-align: center; text-decoration: none; text-transform: uppercase; background-color: #4A6785; border-color: #4A6785; color: #ffffff; margin-left: 5px; font-weight: bold; font-size: 14px&quot;&gt;$issue.status.name&lt;/span&gt;&lt;/h1&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
													
                                                    &lt;tr&gt;
                                                        &lt;td class=&quot;email-actions email-content-important&quot; style=&quot;text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding: 20px; padding-top: 0; padding-bottom: 20px; border-top-width: 0; border-bottom-width: 2px&quot;&gt;
                                                            You can &lt;a href=&quot;&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString(&quot;jira.baseurl&quot;) %&gt;/browse/$issue&quot;&gt;view the full request&lt;/a&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
													
													&lt;tr&gt;
                                                        &lt;td class=&quot;email-details&quot; style=&quot;padding: 20px&quot;&gt;
                                                            &lt;h2 style=&quot;color: #111; margin: 0 0 10px; line-height: 1,200; font-size: 16px; font-weight: bold&quot;&gt;Details&lt;/h2&gt;
                                                            &lt;table class=&quot;email-request-details&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;width: 100%; font-family: sans-serif&quot;&gt;
                                                                &lt;tbody&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Brand
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Environment
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Product Family
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parqube&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14116&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14118&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14117&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Zeag&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14119&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14121&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14120&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14104&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14106&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14105&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion XR&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14107&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14109&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14108&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parkplus&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14113&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14115&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14114&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Paragon&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14110&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14112&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manual&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14111&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Datapark&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14102&quot;))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14103&quot;))[null] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Product
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parqube&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14116&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14118&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14117&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Zeag&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14119&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14121&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14120&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14104&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14106&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14105&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Orion XR&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14107&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14109&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14108&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Parkplus&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14113&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14115&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14114&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Paragon&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14110&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14112&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Manuals&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14111&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14122&quot;))?.value == &quot;Datapark&quot;){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Hardware&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14102&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14123&quot;))?.value == &quot;Software&quot;){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14103&quot;))[&quot;1&quot;] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Affected Version / Peripheral Serial Number
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_12904&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            Description
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;p&gt;$issue.description&lt;/p&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr class=&quot;last&quot;&gt;
                                                                        &lt;td class=&quot;label&quot; style=&quot;padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px&quot;&gt;
                                                                            What Is your installation number?
                                                                        &lt;/td&gt;
                                                                        &lt;td class=&quot;value&quot; style=&quot;padding: 5px 0&quot;&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject(&quot;customfield_14124&quot;))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                &lt;/tbody&gt;
                                            &lt;/table&gt;
                                        &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td id=&quot;foot-note&quot; style=&quot;padding-bottom: 20px;  font-size: 12px; line-height: 1,200&quot;&gt;
                            &lt;p style=&quot;width: 600px; text-align: center; margin: 0 auto&quot;&gt;This message is automatically generated by HUB Support Portal.&lt;br /&gt;&lt;/p&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/center&gt;
    &lt;/body&gt;</arg>
              <arg name="FIELD_EMAIL_SUBJECT_TEMPLATE">[HS] $issue.summary</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.SendCustomEmail</arg>
              <arg name="FIELD_CONDITION">import com.atlassian.jira.component.ComponentAccessor

def groupManager = ComponentAccessor.getGroupManager()
issue.projectObject.name == 'HUB Support' &amp;&amp; !groupManager.isUserInGroup(issue.reporter?.name, 'HS-customers')</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_PREVIEW_ISSUE">HS-665</arg>
              <arg name="FIELD_EMAIL_FORMAT">HTML</arg>
            </function>
            <function type="class">
              <arg name="FIELD_NOTES"></arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="FIELD_INLINE_SCRIPT"></arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_SCRIPT_FILE">customScripts\SD_UpdateRequestType.groovy</arg>
            </function>
            <function type="class">
              <arg name="FIELD_ACTION">11 AssignToTechnician</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.FasttrackTransition</arg>
              <arg name="FIELD_CONDITION">import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.user.util.UserManager
import com.atlassian.jira.util.ImportUtils
import com.atlassian.jira.ComponentManager
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.issue.label.LabelManager

ComponentManager 	componentManager = 	ComponentManager.getInstance()
com.atlassian.crowd.embedded.api.User currentUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()
def userUtil = componentManager.getUserUtil()
LabelManager labelManager = ComponentAccessor.getComponent(LabelManager)

(!userUtil.getGroupNamesForUser(issue.reporter.name).contains(&quot;HS-customers&quot;) &amp;&amp; issue.getProjectObject().key == 'HS') || (labelManager.getLabels(issue.id).collect{it.getLabel()}.contains('InternalHS') &amp;&amp; issue.getProjectObject().key == 'HS')</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_ADDITIONAL_SCRIPT"></arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="eventTypeId">1</arg>
              <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
  </initial-actions>
  <common-actions>
    <action id="81" name="ReOpen">
      <meta name="jira.description">This issue needs to go back to the technical assistance</meta>
      <results>
        <unconditional-result old-status="null" status="null" step="1">
          <post-functions>
            <function type="class">
              <arg name="field.name">resolution</arg>
              <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowupdate-issue-field-function</arg>
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="eventTypeId">7</arg>
              <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
    <action id="21" name="Resolve" view="Resolve Issue Screen - 2">
      <meta name="jira.description">This transition state the issue is moving to a field test to verify it's resolution</meta>
      <meta name="jira.fieldscreen.id">10600</meta>
      <results>
        <unconditional-result old-status="null" status="null" step="6">
          <post-functions>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="eventTypeId">13</arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
    <action id="41" name="TransferToReporter" view="fieldscreen">
      <meta name="jira.description">Action used to respond to customer</meta>
      <meta name="jira.fieldscreen.id">11701</meta>
      <results>
        <unconditional-result old-status="null" status="null" step="3">
          <post-functions>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="field.name">customfield_13616</arg>
              <arg name="full.module.key">com.googlecode.jira-suite-utilitiesupdateIssueCustomField-function</arg>
              <arg name="field.value">%%CURRENT_DATETIME%%</arg>
              <arg name="class.name">com.googlecode.jsu.workflow.function.UpdateIssueCustomFieldPostFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="eventTypeId">13</arg>
              <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
  </common-actions>
  <steps>
    <step id="1" name="Open">
      <meta name="jira.status.id">1</meta>
      <actions>
<common-action id="21" />
        <action id="11" name="AssignToTechnician" view="fieldscreen">
          <meta name="jira.description">The opened issue should be assigned to a technician and checked</meta>
          <meta name="jira.fieldscreen.id">11702</meta>
          <results>
            <unconditional-result old-status="null" status="null" step="2">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="field.name">customfield_13923</arg>
                  <arg name="full.module.key">com.googlecode.jira-suite-utilitiesupdateIssueCustomField-function</arg>
                  <arg name="field.value">%%CURRENT_USER%%</arg>
                  <arg name="class.name">com.googlecode.jsu.workflow.function.UpdateIssueCustomFieldPostFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">10600</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="2" name="SupportWait">
      <meta name="jira.status.id">10026</meta>
      <actions>
        <action id="61" name="TransferToEngineering" view="fieldscreen">
          <meta name="jira.description">this issue need an Engineering Review</meta>
          <meta name="jira.fieldscreen.id">12403</meta>
          <results>
            <unconditional-result old-status="null" status="null" step="4">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">3</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
        <action id="141" name="TransferToOperations" view="fieldscreen">
          <meta name="jira.description">Move the issue on Purchasing, Backoffice or in Production</meta>
          <meta name="jira.fieldscreen.id">12403</meta>
          <results>
            <unconditional-result old-status="null" status="null" step="8">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">3</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
        <action id="161" name="FeedbackToReporter/Agent" view="fieldscreen">
          <meta name="jira.description"></meta>
          <meta name="jira.fieldscreen.id">11701</meta>
          <results>
            <unconditional-result old-status="null" status="null" step="9">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">13</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="3" name="ReporterWait">
      <meta name="jira.status.id">10027</meta>
      <actions>
        <action id="51" name="Expiration">
          <meta name="jira.description">too much time is passed without any answer</meta>
          <results>
            <unconditional-result old-status="null" status="null" step="7">
              <post-functions>
                <function type="class">
                  <arg name="field.name">resolution</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowupdate-issue-field-function</arg>
                  <arg name="field.value">10301</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">13</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
        <action id="91" name="ReporterBackToSupport">
          <meta name="jira.description"></meta>
          <meta name="jira.fieldscreen.id"></meta>
          <results>
            <unconditional-result old-status="null" status="null" step="9">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">7</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
        <action id="101" name="TimeRearm">
          <meta name="jira.description">Loop Transition fro sending warning emails</meta>
          <restrict-to>
            <conditions>
              <condition type="class">
                <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.conditions.SimpleScriptedCondition</arg>
                <arg name="FIELD_CONDITION">import com.atlassian.jira.component.ComponentAccessor

def groupManager = ComponentAccessor.getGroupManager()

currentUser.name == 'atlassian' || (groupManager.isUserInGroup(currentUser.name, 'service-desk-agents') &amp;&amp; issue.getProjectObject().key == 'HS')</arg>
                <arg name="FIELD_PREVIEW_ISSUE"></arg>
                <arg name="class.name">com.onresolve.jira.groovy.GroovyCondition</arg>
              </condition>
            </conditions>
          </restrict-to>
          <results>
            <unconditional-result old-status="null" status="null" step="3">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">13</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="4" name="EngineeringWait">
      <meta name="jira.status.id">10028</meta>
      <actions>
        <action id="121" name="EngineeringBackToSupport" view="fieldscreen">
          <meta name="jira.description"></meta>
          <meta name="jira.fieldscreen.id">12403</meta>
          <results>
            <unconditional-result old-status="null" status="null" step="2">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">3</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="5" name="Closed">
      <meta name="jira.status.id">6</meta>
      <actions>
        <action id="71" name="ReOpen">
          <meta name="jira.description">This issue needs to go back to the technical assistance</meta>
          <results>
            <unconditional-result old-status="null" status="null" step="1">
              <post-functions>
                <function type="class">
                  <arg name="field.name">resolution</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowupdate-issue-field-function</arg>
                  <arg name="field.value"></arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">7</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="6" name="Resolved">
      <meta name="jira.status.id">5</meta>
      <actions>
<common-action id="81" />
        <action id="31" name="Close" view="fieldscreen">
          <meta name="jira.description">This action closes the ticket assuming that the issue is validated from the field</meta>
          <meta name="jira.fieldscreen.id">10600</meta>
          <results>
            <unconditional-result old-status="null" status="null" step="5">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">13</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="7" name="Expired">
      <meta name="jira.status.id">10029</meta>
      <actions>
        <action id="111" name="ReOpen">
          <meta name="jira.description">This issue needs to go back to the technical assistance</meta>
          <results>
            <unconditional-result old-status="null" status="null" step="9">
              <post-functions>
                <function type="class">
                  <arg name="field.name">resolution</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowupdate-issue-field-function</arg>
                  <arg name="field.value"></arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">13</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="8" name="OperationsWait">
      <meta name="jira.status.id">10126</meta>
      <actions>
        <action id="151" name="OperationsBackToSupport" view="fieldscreen">
          <meta name="jira.description"></meta>
          <meta name="jira.fieldscreen.id">12403</meta>
          <results>
            <unconditional-result old-status="null" status="null" step="2">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">3</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="9" name="AgentActionWait">
      <meta name="jira.status.id">10427</meta>
      <actions>
<common-action id="41" />
<common-action id="21" />
        <action id="171" name="AgentBackToSupport" view="fieldscreen">
          <meta name="jira.description"></meta>
          <meta name="jira.fieldscreen.id">11702</meta>
          <results>
            <unconditional-result old-status="null" status="null" step="2">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">3</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
  </steps>
</workflow>
