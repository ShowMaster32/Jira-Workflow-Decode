<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE workflow PUBLIC "-//OpenSymphony Group//DTD OSWorkflow 2.8//EN" "http://www.opensymphony.com/osworkflow/workflow_2_8.dtd">
<workflow>
  <meta name="jira.description"></meta>
  <meta name="jira.update.author.key">katia.chinaglia</meta>
  <meta name="jira.updated.date">1687847524838</meta>
  <initial-actions>
    <action id="1" name="Create">
      <validators>
        <validator name="" type="class">
          <arg name="permission">Create Issue</arg>
          <arg name="class.name">com.atlassian.jira.workflow.validator.PermissionValidator</arg>
        </validator>
      </validators>
      <results>
        <unconditional-result old-status="null" status="open" step="1">
          <post-functions>
            <function type="class">
              <arg name="FIELD_SECURITY_LEVEL_ID">11201</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.SetIssueSecurity</arg>
              <arg name="FIELD_CONDITION"></arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueCreateFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="eventTypeId">10007</arg>
              <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
            </function>
            <function type="class">
              <arg name="FIELD_NOTES">YCFgU2VuZCBtYWlsIHRvIGFwcHJvdmFsIHN1YnRhc2sgdG8gYXNzaWduZWU=</arg>
              <arg name="FIELD_DISABLE_VALIDATION"></arg>
              <arg name="FIELD_FROM">faacithelpdesk@faacgroup.com</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS"></arg>
              <arg name="FIELD_TO_ADDRESSES"></arg>
              <arg name="FIELD_CC_ADDRESSES"></arg>
              <arg name="FIELD_CC_USER_FIELDS"></arg>
              <arg name="FIELD_TO_USER_FIELDS">assignee</arg>
              <arg name="FIELD_FUNCTION_ID">1ed5f29196a35161dd1bfb4aa1f7ac0439fb1657</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS_CALLBACK">YCFg</arg>
              <arg name="FIELD_EMAIL_TEMPLATE">YCFgPGh0bWw+CjxoZWFkPgoJPHN0eWxlPgogICAgCXRhYmxlLmN1c3RvbS1vdXRnb2luZy1tYWlsewogICAgICAgIAlmb250LWZhbWlseToiVmVyZGFuYSI7CiAgICAgICAgCXdpZHRoOjEwMCU7CiAgICAgICAgCWJvcmRlci1zcGFjaW5nOiA4cHggMnB4OwogICAgICAgIH0KICAgICAgICBhLmFhLXN1bW1hcnl7CiAgICAgICAgCWNvbG9yOiMwMDAwMDA7CiAgICAgICAgCXRleHQtZGVjb3JhdGlvbjpub25lOwogICAgICAgIH0KICAgICAgICB0ZC50ZC1zcGFjZWR7CiAgICAgICAgCXBhZGRpbmc6MTUuMHB0IDcuNXB0IDcuNXB0IDcuNXB0OwogICAgICAgIH0KICAgICAgICB0ZC50ZC1zdW1tYXJ5ewogICAgICAgIAlmb250LWZhbWlseToiVmVyZGFuYSI7CiAgICAgICAgICAgIGZvbnQtc2l6ZToxNHB0OwogICAgICAgIAlib3JkZXItdG9wOndoaXRlc21va2UgMS4wcHQ7CiAgICAgICAgCWJvcmRlci1sZWZ0OiNEREREREQgMS4wcHQ7CiAgICAgICAgCWJvcmRlci1ib3R0b206I0RERERERCAxLjBwdDsKICAgICAgICAJYm9yZGVyLXJpZ2h0OiNEREREREQgMS41cHQ7CiAgICAgICAgCWJvcmRlci1zdHlsZTpzb2xpZDsKICAgICAgICAJYmFja2dyb3VuZDp3aGl0ZTsKCQkJcGFkZGluZy1sZWZ0OjEwcHg7CiAgICAgICAgfQoJCXRkLnRkLXJlZmVyZW5jZXsKCQkJYm9yZGVyLXRvcDp3aGl0ZSAxLjBwdDsKCQkJYm9yZGVyLWxlZnQ6I0RERERERCAxLjBwdDsKCQkJYm9yZGVyLWJvdHRvbTojREREREREIDEuNXB0OwoJCQlib3JkZXItcmlnaHQ6I0RERERERCAxLjVwdDsKCQkJYm9yZGVyLXN0eWxlOnNvbGlkOwoJCQliYWNrZ3JvdW5kOndoaXRlOwoJCQlwYWRkaW5nOjEwcHggMTBweCAxMHB4IDEwcHg7CgkJCWZvbnQtZmFtaWx5OiJWZXJkYW5hIjsKCQkJY29sb3I6IzAwMzA1MDsKCQkJZm9udC1zaXplOjExcHQ7CgkJfQoJCWEudGQtcmVmZXJlbmNlewoJCQlmb250LWZhbWlseToiVmVyZGFuYSI7CgkJCWNvbG9yOiMwMDMwNTA7CgkJCWZvbnQtc2l6ZToxMXB0OwoJCQl0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lOwoJCX0KCQlwLnRpdGxlLWNvbW1lbnR7CgkJCWZvbnQtZmFtaWx5OiJWZXJkYW5hIjsKICAgICAgICAgICAgZm9udC1zaXplOjEycHQ7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OmJvbGQ7CgkJCXRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7CgkJfQoJCXAuYXV0aG9yLWNvbW1lbnR7CgkJCWZvbnQtZmFtaWx5OiJWZXJkYW5hIjsKICAgICAgICAgICAgZm9udC1zaXplOjExcHQ7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OmJvbGQ7CgkJfQoJCXRkLmNvbW1lbnQtYm94ewoJCQliYWNrZ3JvdW5kOiNGRkZGRkY7CgkJCXBhZGRpbmc6MTBweCAxMHB4IDEwcHggMTBweDsKCQkJZm9udC1mYW1pbHk6IlZlcmRhbmEiOwoJCQlmb250LXNpemU6MTFwdDsKCQl9CgkJdGQuZGV0YWlscy1maWVsZC1uYW1lewoJCQlmb250LXNpemU6MTBwdDsKCQkJZm9udC1mYW1pbHk6IlZlcmRhbmEiOwoJCQl2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7CgkJCXBhZGRpbmctdG9wOiAycHg7CgkJCXBhZGRpbmctYm90dG9tOiAycHg7CgkJfQoJCXAuZGV0YWlscy1ib3gtdGl0bGV7CgkJCWZvbnQtZmFtaWx5OiJWZXJkYW5hIjsKCQkJZm9udC1zaXplOjExcHQ7CgkJCXBhZGRpbmctdG9wOiAxNXB4OwoJCQlwYWRkaW5nLWJvdHRvbTogMTBweDsKCQl9CgkJdGQuZGV0YWlscy1maWVsZC12YWx1ZXsKCQkJZm9udC1zaXplOjExcHQ7CgkJCWZvbnQtZmFtaWx5OiJWZXJkYW5hIjsKCQkJdmVydGljYWwtYWxpZ246bWlkZGxlOwoJCQlwYWRkaW5nLXRvcDogMnB4OwoJCQlwYWRkaW5nLWJvdHRvbTogMnB4OwoJCX0KCQlhLnRpdGxlLW1haWwtcmVmZXJlbmNlewoJCQlmb250LWZhbWlseToiVmVyZGFuYSI7CgkJCXBhZGRpbmctdG9wOiA1cHg7CgkJCXBhZGRpbmctYm90dG9tOiA1cHg7CgkJCXBhZGRpbmctbGVmdDogMTBweDsKCQkJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJCQlmb250LXNpemU6MTFwdDsKCQkJY29sb3I6I0NGNjQwMDsKCQl9CgkJYS50aXRsZS1tYWlsLXBvcnRhbHsKCQkJZm9udC1mYW1pbHk6IlZlcmRhbmEiOwoJCQlwYWRkaW5nLXRvcDogNXB4OwoJCQlwYWRkaW5nLWJvdHRvbTogNXB4OwoJCQlwYWRkaW5nLWxlZnQ6IDEwcHg7CgkJCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCQkJZm9udC1zaXplOjExcHQ7CgkJCWNvbG9yOiNDRjY0MDA7CgkJfQoJCXAudGl0bGUtbWFpbC1yZWZlcmVuY2V7CgkJCXBhZGRpbmctdG9wOiA1cHg7CgkJCXBhZGRpbmctYm90dG9tOiA1cHg7CgkJCXBhZGRpbmctcmlnaHQ6IDEwcHg7CgkJCXRleHQtYWxpZ246cmlnaHQ7CgkJCWxpbmUtaGVpZ2h0OjEzcHQ7CgkJCWZvbnQtZmFtaWx5OiJWZXJkYW5hIjsKCQkJZm9udC1zaXplOjExcHQ7CgkJCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCQkJY29sb3I6IzAwMDAwMDsKCQl9CgkJcC50eXBlLWFib3ZlewoJCQlmb250LWZhbWlseToiVmVyZGFuYSI7CgkJCWZvbnQtc2l6ZTo4cHQ7CgkJCWZvbnQtd2VpZ2h0OmJvbGQ7CgkJCWNvbG9yOiM1MDUwNTA7CgkJfQoJCXNwYW4uc3RhdHVzLW5hbWUtYWF7CgkJCWJvcmRlci1yYWRpdXM6IDNweDsgCgkJCWZvbnQtc2l6ZTogOHB0OyAKCQkJdGV4dC1hbGlnbjogY2VudGVyOyAKCQkJdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgCgkJCWJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7IAoJCQlib3JkZXI6IDFweCBzb2xpZCAjQ0Y2NDAwOyAKCQkJY29sb3I6ICMwMDAwMDA7IAoJCQltYXJnaW4tbGVmdDogNXB4OyAKCQkJZm9udC13ZWlnaHQ6IGJvbGQ7IAoJCX0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CjxkaXYgYWxpZ249ImNlbnRlciI+Cgk8cCBjbGFzcz0idHlwZS1hYm92ZSI+IyNQbGVhc2UgdHlwZSB5b3VyIHJlcGx5IGFib3ZlIHRoaXMgbGluZSMjPC9wPgo8L2Rpdj4KPGRpdiBhbGlnbj0iY2VudGVyIj4KPHRhYmxlIGNsYXNzPSJjdXN0b20tb3V0Z29pbmctbWFpbCIgYm9yZGVyPTAgY2VsbHNwYWNpbmc9MCBjZWxscGFkZGluZz0wIHdpZHRoPSIxMDAlIj4KCTx0cj4KCQk8dGQgY2xhc3M9InRkLXNwYWNlZCI+CgkJCTxkaXYgYWxpZ249ImNlbnRlciI+CgkJCQk8dGFibGUgYm9yZGVyPTAgY2VsbHNwYWNpbmc9MCBjZWxscGFkZGluZz0wIHdpZHRoPTYwMCBzdHlsZT0nd2lkdGg6NDUwcHQnPgoJCQkJCTx0cj4KCQkJCQkJPHRkIHN0eWxlPSdwYWRkaW5nOjBjbSAwY20gMGNtIDBjbSc+CgkJCQkJCQk8dGFibGUgYm9yZGVyPTAgY2VsbHNwYWNpbmc9MCBjZWxscGFkZGluZz0wIHdpZHRoPSIxMDAlIiBzdHlsZT0nd2lkdGg6MTAwJSc+CgkJCQkJCQkJPHRyPgoJCQkJCQkJCQk8dGQ+CgkJCQkJCQkJCQk8dGFibGUgYm9yZGVyPTAgY2VsbHNwYWNpbmc9MCBjZWxscGFkZGluZz0wIHdpZHRoPSIxMDAlIiBzdHlsZT0nd2lkdGg6MTAwJSc+CgkJCQkJCQkJCQkJPHRyPgoJCQkJCQkJCQkJCQk8dGQgY29sc3Bhbj0iMiI+CgkJCQkJCQkJCQkJCQk8aW1nIHNyYz0iPCUgb3V0IDw8IGNvbS5hdGxhc3NpYW4uamlyYS5jb21wb25lbnQuQ29tcG9uZW50QWNjZXNzb3IuZ2V0QXBwbGljYXRpb25Qcm9wZXJ0aWVzKCkuZ2V0U3RyaW5nKCJqaXJhLmJhc2V1cmwiKSAlPi9pbWFnZXMvbG9naGkvbG9nb19BY2Nlc3NfQXV0b21hdGlvbi5wbmciLz4KCQkJCQkJCQkJCQkJPC90ZD4KCQkJCQkJCQkJCQk8L3RyPgoJCQkJCQkJCQkJCTx0cj4KCQkJCQkJCQkJCQkJPHRkIGNvbHNwYW49IjIiIHdpZHRoPSI1MCUiIHN0eWxlPSd3aWR0aDo1MC4wJTtwYWRkaW5nOjBjbSAwY20gMGNtIDBjbSc+CgkJCQkJCQkJCQkJCQk8cD4KCQkJCQkJCQkJCQkJCQk8YSBjbGFzcz0idGl0bGUtbWFpbC1wb3J0YWwiIGhyZWY9Imh0dHBzOi8vaGVscGRlc2suZmFhY2dyb3VwLmNvbS9zZXJ2aWNlZGVzay11aS9jdXN0b21lci9wb3J0YWwvMjYiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPklEVFMgU3VwcG9ydCBQb3J0YWw8L2I+PC9hPgoJCQkJCQkJCQkJCQkJCTwlIGlmIChpc3N1ZS5pc3N1ZVR5cGUubmFtZSA9PSAiU3ViLVdGU3RlcCIpIHsgJT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJLSBTdWIgdGFzayBBcHByb3ZhbCBDaGFuZ2UgUmVxdWVzdCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8JSB9ICU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCUgaWYgKGlzc3VlLmlzc3VlVHlwZS5uYW1lID09ICJTdWItUFJTdGVwIikgeyAlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIFN1YiB0YXNrIEFwcHJvdmFsIFByb2R1Y3Rpb24gQ2hhbmdlIFJlcXVlc3QgCgkJCQkJCQkJCQkJCQkJPCUgfSAlPgkKCQkJCQkJCQkJCQkJCTwvcD4KCQkJCQkJCQkJCQkJPC90ZD4KCQkJCQkJCQkJCQk8L3RyPgoJCQkJCQkJCQkJCTx0cj4KCQkJCQkJCQkJCQkJPHRkPjwvdGQ+CgkJCQkJCQkJCQkJCTx0ZCB3aWR0aD0iNTAlIiBzdHlsZT0nd2lkdGg6NTAuMCU7cGFkZGluZzowY20gMGNtIDBjbSAwY207dGV4dC1hbGlnbjpyaWdodDsnPgoJCQkJCQkJCQkJCQkJPHAgY2xhc3M9InRpdGxlLW1haWwtcmVmZXJlbmNlIiA+CgkJCQkJCQkJCQkJCQkJCVJlZmVyZW5jZTogPHN0cm9uZyBzdHlsZT0iZm9udC13ZWlnaHQ6IGJvbGQ7Zm9udC1zaXplOjExcHQ7Y29sb3I6I0NGNjQwMDsiPiRpc3N1ZTwvc3Ryb25nPgoJCQkJCQkJCQkJCQkJPC9wPgoJCQkJCQkJCQkJCQk8L3RkPgoJCQkJCQkJCQkJCTwvdHI+CgkJCQkJCQkJCQk8L3RhYmxlPgoJCQkJCQkJCQk8L3RkPgoJCQkJCQkJCTwvdHI+CgkJCQkJCQkJPHRyPgoJCQkJCQkJCQk8dGQgY2xhc3M9InRkLXN1bW1hcnkiPgoJCQkJCQkJCQkJPGJyLz4KCQkJCQkJCQkJCTxhIGNsYXNzPSJhYS1zdW1tYXJ5IiBocmVmPSJodHRwczovL2hlbHBkZXNrLmZhYWNncm91cC5jb20vc2VydmljZWRlc2stdWkvY3VzdG9tZXIvcG9ydGFsLzI2L215cmVxdWVzdHMvJGlzc3VlIj4KCQkJCQkJCQkJCQkkaXNzdWUuc3VtbWFyeQoJCQkJCQkJCQkJPC9hPgoJCQkJCQkJCQkJPCEtLSBDdXN0b20gZmllbGQ6IE5leHQgU3RhdHVzIERlc2NyaXB0aW9uIC0tPgoJCQkJCQkJCQkJPCEtLSBJRCBTdmlsOiAxNTgwMSAtLT4KCQkJCQkJCQkJCTwhLS0gSUQgUHJvZDogPz8/Pz8gLS0+CgkJCQkJCQkJCQk8c3BhbiBjbGFzcz0ic3RhdHVzLW5hbWUtYWEiPiBDcmVhdGVkIDwvc3Bhbj4KCQkJCQkJCQkJPC90ZD4KCQkJCQkJCQk8L3RyPgoJCQkJCQkJCTx0cj4KCQkJCQkJCQkJPHRkIGNsYXNzPSJ0ZC1yZWZlcmVuY2UiPgoJCQkJCQkJCQkJWW91IGNhbiAJCQkJCQkJCQkJCgkJCQkJCQkJCQkJPGEgY2xhc3M9InRkLXJlZmVyZW5jZSIgaHJlZj0iaHR0cHM6Ly9oZWxwZGVzay5mYWFjZ3JvdXAuY29tL3NlcnZpY2VkZXNrLXVpL2N1c3RvbWVyL3BvcnRhbC8yNi9teXJlcXVlc3RzLyRpc3N1ZS5wYXJlbnRPYmplY3QiPgoJCQkJCQkJCQkJCQl2aWV3IHRoZSBmdWxsIHJlcXVlc3QKCQkJCQkJCQkJCQk8L2E+CgkJCQkJCQkJPC90ZD4KCQkJCQkJCTwvdHI+CgkJCQkJCTwvdGFibGU+CgoJCQkJCQk8dGFibGUgYm9yZGVyPTAgY2VsbHNwYWNpbmc9MCBjZWxscGFkZGluZz0wIHdpZHRoPSIxMDAlIiBzdHlsZT0nd2lkdGg6MTAwJSc+CgkJCQkJCQk8dHI+CgkJCQkJCQkJPHRkIGNsYXNzPSJkZXRhaWxzLWZpZWxkLXZhbHVlIj4JCQkJCQkJCQkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJCTxiciAvPgoJCQkJCQkJCQkJRGVhciA8JSBvdXQgPDwgaXNzdWUuYXNzaWduZWU/LmRpc3BsYXlOYW1lICU+LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+PGJyIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiByZWdhcmRzIHRvIHRoZSBjaGFuZ2UgcmVxdWVzdCA8Yj48JSBvdXQgPDwgaXNzdWUucGFyZW50T2JqZWN0ICU+PC9iPiB3aXRoIHN1YmplY3QgPGI+PCUgb3V0IDw8IGlzc3VlLnBhcmVudE9iamVjdC5zdW1tYXJ5ICU+PC9iPiwgdGhlIGFwcHJvdmFsIHRpY2tldCA8Yj48JSBvdXQgPDwgaXNzdWUlPjwvYj4gaGFzIGJlZW4gY3JlYXRlZC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPjxiciAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2luZCByZWdhcmRzPGJyIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPGJyIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCZWxvdyByZXBlYXRlZCBpbiBpdGFsaWFuPGJyIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTxiciAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHZW50aWxlIDwlIG91dCA8PCBpc3N1ZS5hc3NpZ25lZT8uZGlzcGxheU5hbWUgJT4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz48YnIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZhbWVudGUgYWxsYSByaWNoaWVzdGEgZGkgY2hhbmdlIHJlcXVlc3QgPGI+PCUgb3V0IDw8IGlzc3VlLnBhcmVudE9iamVjdCAlPjwvYj4gY29uIG9nZ2V0dG8gPGI+PCUgb3V0IDw8IGlzc3VlLnBhcmVudE9iamVjdC5zdW1tYXJ5ICU+PC9iPiwgw6ggc3RhdG8gY3JlYXRvIGlsIHRpY2tldCBkaSBhcHByb3ZhemlvbmUgPGI+PCUgb3V0IDw8IGlzc3VlJT48L2I+LgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+PGJyIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb3JkaWFsaSBzYWx1dGkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPgoJCQkJCQkJCTwvdGQ+CgkJCQkJCQk8L3RyPgoJCQkJCQk8L3RhYmxlPgoJCQkJCQkKCQkJCQkJPC90ZD4KCQkJCQk8L3RyPgoJCQkJPC90YWJsZT4KCQkJPC9kaXY+CgkJPC90ZD4KCTwvdHI+Cgk8dHI+CgkJPHRkIHN0eWxlPSdwYWRkaW5nOjBjbSAwY20gMTUuMHB0IDBjbTsnPgoJCQk8cCBhbGlnbj1jZW50ZXIgc3R5bGU9J21hcmdpbjowY207bWFyZ2luLWJvdHRvbTouMDAwMXB0O3RleHQtYWxpZ246Y2VudGVyJz4KCQkJCTxzcGFuIHN0eWxlPSdmb250LXNpemU6OS4wcHQ7Zm9udC1mYW1pbHk6IlZlcmRhbmEiO2NvbG9yOiMwMDAwMDAnPlRoaXMgbWVzc2FnZSBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBGQUFDIElEVFMgU3VwcG9ydCBQb3J0YWwuPC9zcGFuPgoJCQk8L3A+CgkJPC90ZD4KCTwvdHI+CjwvdGFibGU+CjwvZGl2Pgo8L2Rpdj4KPC9ib2R5Pgo8L2h0bWw+Cg==</arg>
              <arg name="FIELD_EMAIL_SUBJECT_TEMPLATE">YCFgQXBwcm92YWwgQ2hhbmdlIFJlcXVlc3QgVGlja2V0IFskaXNzdWUua2V5XSAkaXNzdWUuc3VtbWFyeTogY3JlYXRlZA==</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.SendCustomEmail</arg>
              <arg name="FIELD_CONDITION">YCFgbWFpbC5zZXRGcm9tKCJmYWFjaXRoZWxwZGVza0BmYWFjZ3JvdXAuY29tIil8fHw=</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_PREVIEW_ISSUE">IDTS-13435</arg>
              <arg name="FIELD_EMAIL_FORMAT">HTML</arg>
              <arg name="events"></arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
  </initial-actions>
  <steps>
    <step id="1" name="Open">
      <meta name="jira.status.id">1</meta>
      <actions>
        <action id="11" name="Rejected" view="fieldscreen">
          <meta name="jira.description"></meta>
          <meta name="jira.fieldscreen.id">19426</meta>
          <validators>
            <validator name="" type="class">
              <arg name="contextHandling"></arg>
              <arg name="hidFieldsList">customfield_22306@@</arg>
              <arg name="jsuWorkflowParamsVersion-textValue">2.15.1</arg>
              <arg name="class.name">com.googlecode.jsu.workflow.validator.FieldsRequiredValidator</arg>
              <arg name="customErrorMessage-textValue"></arg>
            </validator>
          </validators>
          <results>
            <unconditional-result old-status="null" status="null" step="2">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">13</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
                <function type="class">
                  <arg name="FIELD_FUNCTION_ID">21e500389ab977f0382a7d6772b5105de3e32e83</arg>
                  <arg name="FIELD_NOTES">YCFgYWdnaXVudG8gaWwgY29tbWVudG8gYWwgZGIgZGVsIHBvcnRhbGUgY29zw6wgY2hlIHBvc3NhIGVzc2VyZSB2aXNpYmlsZSBhZ2xpIHV0ZW50aSwgaWwgY29tbWVudG8gbG8gcHJlc28gZGEgQ29tbWVudC9ub3RlcyBjaGUgYWdnaXVuZ28gYWkgY29tbWVudGk=</arg>
                  <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
                  <arg name="FIELD_INLINE_SCRIPT">YCFgaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5jb21wb25lbnQuQ29tcG9uZW50QWNjZXNzb3IKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5Jc3N1ZQppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLk11dGFibGVJc3N1ZQppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLnVzZXIuQXBwbGljYXRpb25Vc2VyCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuanFsLnBhcnNlci5KcWxRdWVyeVBhcnNlcgppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLndlYi5iZWFuLlBhZ2VyRmlsdGVyCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuYmMuaXNzdWUuc2VhcmNoLlNlYXJjaFNlcnZpY2UKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5jb21wb25lbnQuQ29tcG9uZW50QWNjZXNzb3IKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5Jc3N1ZU1hbmFnZXIKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5DdXN0b21GaWVsZE1hbmFnZXIKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5maWVsZHMuQ3VzdG9tRmllbGQKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5ldmVudC50eXBlLkV2ZW50RGlzcGF0Y2hPcHRpb24KaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5jb21tZW50cy5Db21tZW50TWFuYWdlcgovL1Byb2plY3QgU2VydmljZSBEZXNrIC0ga2V5OiBTRAppbXBvcnQgb3JnLmFwYWNoZS5sb2c0ai5DYXRlZ29yeQppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLmNvbW1lbnRzLkNvbW1lbnQKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5jb21tZW50cy5NdXRhYmxlQ29tbWVudAppbXBvcnQgb3JnLm9mYml6LmNvcmUuZW50aXR5LkdlbmVyaWNWYWx1ZQppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLmhpc3RvcnkuQ2hhbmdlSXRlbUJlYW4KCmltcG9ydCBncm9vdnkuc3FsLlNxbAppbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbgppbXBvcnQgb3JnLm9mYml6LmNvcmUuZW50aXR5LkNvbm5lY3Rpb25GYWN0b3J5CmltcG9ydCBvcmcub2ZiaXouY29yZS5lbnRpdHkuRGVsZWdhdG9ySW50ZXJmYWNlCgpJc3N1ZU1hbmFnZXIgCQlpc3N1ZU1hbmFnZXIgCQk9IENvbXBvbmVudEFjY2Vzc29yLmdldElzc3VlTWFuYWdlcigpCgpkZWYganFsUXVlcnlQYXJzZXIgPSBDb21wb25lbnRBY2Nlc3Nvci5nZXRDb21wb25lbnQoSnFsUXVlcnlQYXJzZXIpCkN1c3RvbUZpZWxkTWFuYWdlciAJY3VzdG9tRmllbGRNYW5hZ2VyIAk9IENvbXBvbmVudEFjY2Vzc29yLmdldEN1c3RvbUZpZWxkTWFuYWdlcigpCgovL011dGFibGVJc3N1ZSBpc3N1ZSA9IGlzc3VlTWFuYWdlci5nZXRJc3N1ZUJ5S2V5SWdub3JlQ2FzZSgiSURUUy02Mzk3IikKCkFwcGxpY2F0aW9uVXNlciBvbGRVc2VyID0gQ29tcG9uZW50QWNjZXNzb3IuamlyYUF1dGhlbnRpY2F0aW9uQ29udGV4dC5sb2dnZWRJblVzZXIKQ29tcG9uZW50QWNjZXNzb3IuamlyYUF1dGhlbnRpY2F0aW9uQ29udGV4dC5zZXRMb2dnZWRJblVzZXIoQ29tcG9uZW50QWNjZXNzb3IuZ2V0VXNlck1hbmFnZXIoKS5nZXRVc2VyQnlLZXkoImF0bGFzc2lhbl9mYWFjX3NlcnZpY2VfZGVzayIpKQpBcHBsaWNhdGlvblVzZXIgdXNlciA9IENvbXBvbmVudEFjY2Vzc29yLmppcmFBdXRoZW50aWNhdGlvbkNvbnRleHQubG9nZ2VkSW5Vc2VyCgpDdXN0b21GaWVsZCBDb21tZW50Tm90ZXMgPSBjdXN0b21GaWVsZE1hbmFnZXIuZ2V0Q3VzdG9tRmllbGRPYmplY3QoTG9uZy5wYXJzZUxvbmcoIjIyMzA2IikpCmRlZiBDb21tZW50Tm90ZXNWID0gaXNzdWUuZ2V0Q3VzdG9tRmllbGRWYWx1ZShDb21tZW50Tm90ZXMpCgpDb21tZW50TWFuYWdlciBjb21tZW50TWdyID0gQ29tcG9uZW50QWNjZXNzb3IuZ2V0Q29tbWVudE1hbmFnZXIoKQovL2NvbW1lbnRNZ3IgPSAoQ29tbWVudE1hbmFnZXIpIENvbXBvbmVudEFjY2Vzc29yLmdldENvbXBvbmVudEluc3RhbmNlT2ZUeXBlKENvbW1lbnRNYW5hZ2VyLmNsYXNzKQoKQ29tbWVudCBjb21tZW50PWNvbW1lbnRNZ3IuY3JlYXRlKGlzc3VlLCBpc3N1ZS5nZXRBc3NpZ25lZSgpLCBDb21tZW50Tm90ZXNWLnRvU3RyaW5nKCksIGZhbHNlKQpsb2cuZGVidWcgY29tbWVudC5pZAoKCmRlZiBkZWxlZ2F0b3IgPSAoRGVsZWdhdG9ySW50ZXJmYWNlKSBDb21wb25lbnRBY2Nlc3Nvci5nZXRDb21wb25lbnQoRGVsZWdhdG9ySW50ZXJmYWNlKQpTdHJpbmcgaGVscGVyTmFtZSA9IGRlbGVnYXRvci5nZXRHcm91cEhlbHBlck5hbWUoImRlZmF1bHQiKTsKZGVmIHNxbFN0bXQKQ29ubmVjdGlvbiBjb25uClNxbCBzcWwKCmlmIChjb21tZW50ICE9IG51bGwpewoKICAgIE11dGFibGVDb21tZW50IGNvbW1lbnRfdG9fYmVfdXBkYXRlZCA9IENvbXBvbmVudEFjY2Vzc29yLmdldENvbW1lbnRNYW5hZ2VyKCkuZ2V0TXV0YWJsZUNvbW1lbnQoY29tbWVudC5nZXRJZCgpKTsKICAgIGNvbW1lbnRfdG9fYmVfdXBkYXRlZC5zZXRSb2xlTGV2ZWxJZCgiMTAzMDAiLnRvTG9uZygpKQogICAgQ29tcG9uZW50QWNjZXNzb3IuZ2V0Q29tbWVudE1hbmFnZXIoKS51cGRhdGUoY29tbWVudF90b19iZV91cGRhdGVkLCBmYWxzZSk7CgogICAgc3FsU3RtdCA9ICJJTlNFUlQgSU5UTyBGQ19TRF9SRVFVRVNUQ09NTUVOVFMgKEpJUkFfQ09NTUVOVF9JRCwgSklSQV9JU1NVRV9LRVkpIFZBTFVFUyAoIiArIGNvbW1lbnQuaWQgKyAiLCAnIiArIGlzc3VlLmtleSArICInKSIKICAgIAogICAgY29ubiA9IENvbm5lY3Rpb25GYWN0b3J5LmdldENvbm5lY3Rpb24oaGVscGVyTmFtZSk7CiAgICBzcWwgPSBuZXcgU3FsKGNvbm4pCiAgICAKICAgIHRyeSB7CiAgICAgICAgU3RyaW5nQnVmZmVyIHNiID0gbmV3IFN0cmluZ0J1ZmZlcigpCiAgICAgICAgc3FsLmV4ZWN1dGUoc3FsU3RtdCkKICAgIH0KICAgIGZpbmFsbHkgewogICAgICAgIHNxbC5jbG9zZSgpCiAgICB9ICAgIAp9Cgo=</arg>
                  <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
                  <arg name="disabled">false</arg>
                  <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
                  <arg name="FIELD_SCRIPT_FILE"></arg>
                </function>
                <function type="class">
                  <arg name="FIELD_FUNCTION_ID">051b9c5ec5ab6292ceb6b7de8b9f1be9a120746a</arg>
                  <arg name="FIELD_NOTES">YCFgc2UgdW4gc29sbyBzdWJ0YXNrIMOoIHJlamVjdGVkIGFsbG9yYSBsYSBpc3N1ZSBwYWRyZSBkaXZlbnRhIHJlamVjdGVk</arg>
                  <arg name="FIELD_SCRIPT_FILE_OR_SCRIPT">YCFgeyJzY3JpcHQiOiJcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuY29tcG9uZW50LkNvbXBvbmVudEFjY2Vzc29yXG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLklzc3VlXG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLk11dGFibGVJc3N1ZVxuaW1wb3J0IGNvbS5vcGVuc3ltcGhvbnkud29ya2Zsb3cuV29ya2Zsb3dDb250ZXh0O1xuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5jb25maWcuU3ViVGFza01hbmFnZXJcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEud29ya2Zsb3cuV29ya2Zsb3dUcmFuc2l0aW9uVXRpbDtcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEud29ya2Zsb3cuV29ya2Zsb3dUcmFuc2l0aW9uVXRpbEltcGw7XG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLnV0aWwuSmlyYVV0aWxzO1xuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5zdGF0dXMuU3RhdHVzXG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmNvbXBvbmVudC5Db21wb25lbnRBY2Nlc3NvclxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5Jc3N1ZVxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS51c2VyLkFwcGxpY2F0aW9uVXNlclxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5NdXRhYmxlSXNzdWVcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuanFsLnBhcnNlci5KcWxRdWVyeVBhcnNlclxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS53ZWIuYmVhbi5QYWdlckZpbHRlclxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5iYy5pc3N1ZS5zZWFyY2guU2VhcmNoU2VydmljZVxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5jb21wb25lbnQuQ29tcG9uZW50QWNjZXNzb3JcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuSXNzdWVcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuSXNzdWVNYW5hZ2VyXG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLkN1c3RvbUZpZWxkTWFuYWdlclxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5maWVsZHMuQ3VzdG9tRmllbGRcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEudXNlci51dGlsLlVzZXJVdGlsXG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmNvbXBvbmVudC5Db21wb25lbnRBY2Nlc3NvclxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5Jc3N1ZVxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5jb25maWcuUmVzb2x1dGlvbk1hbmFnZXJcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuZXZlbnQudHlwZS5FdmVudERpc3BhdGNoT3B0aW9uXG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLmluZGV4Lklzc3VlSW5kZXhpbmdTZXJ2aWNlXG5pbXBvcnQgb3JnLmFwYWNoZS5sb2c0ai5DYXRlZ29yeVxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5iYy5pc3N1ZS5Jc3N1ZVNlcnZpY2VcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEud29ya2Zsb3cuVHJhbnNpdGlvbk9wdGlvbnNcblxuQ2F0ZWdvcnkgbG9nID0gQ2F0ZWdvcnkuZ2V0SW5zdGFuY2UoXCJjb20ub25yZXNvbHZlLmppcmEuZ3Jvb3Z5LlBvc3RGdW5jdGlvblwiKVxuXG5sb2cuc2V0TGV2ZWwob3JnLmFwYWNoZS5sb2c0ai5MZXZlbC5ERUJVRylcblxuU2VhcmNoU2VydmljZSBcdFx0c2VhcmNoU2VydmljZSBcdFx0PSBDb21wb25lbnRBY2Nlc3Nvci5nZXRDb21wb25lbnQoU2VhcmNoU2VydmljZS5jbGFzcylcblVzZXJVdGlsIFx0XHRcdHVzZXJVdGlsIFx0XHRcdD0gQ29tcG9uZW50QWNjZXNzb3IuZ2V0VXNlclV0aWwoKVxuSXNzdWVNYW5hZ2VyIFx0XHRpc3N1ZU1hbmFnZXIgXHRcdD0gQ29tcG9uZW50QWNjZXNzb3IuZ2V0SXNzdWVNYW5hZ2VyKClcblxuTXV0YWJsZUlzc3VlIHBhcmVudElzc3VlID0gaXNzdWUucGFyZW50T2JqZWN0O1xuXG5TdWJUYXNrTWFuYWdlciBzdWJUYXNrTWFuYWdlciA9IENvbXBvbmVudEFjY2Vzc29yLmdldFN1YlRhc2tNYW5hZ2VyKCk7XG5Db2xsZWN0aW9uIHN1YlRhc2tzID0gcGFyZW50SXNzdWUuZ2V0U3ViVGFza09iamVjdHMoKTtcbmRlZiBqcWxRdWVyeVBhcnNlciA9IENvbXBvbmVudEFjY2Vzc29yLmdldENvbXBvbmVudChKcWxRdWVyeVBhcnNlcilcbmlzc3VlTWFuYWdlciA9IENvbXBvbmVudEFjY2Vzc29yLmdldElzc3VlTWFuYWdlcigpXG5Jc3N1ZUluZGV4aW5nU2VydmljZSBpc3N1ZUluZGV4aW5nU2VydmljZSA9IENvbXBvbmVudEFjY2Vzc29yLmdldENvbXBvbmVudChJc3N1ZUluZGV4aW5nU2VydmljZSlcblxuQXBwbGljYXRpb25Vc2VyIG9sZFVzZXIgPSBDb21wb25lbnRBY2Nlc3Nvci5qaXJhQXV0aGVudGljYXRpb25Db250ZXh0LmxvZ2dlZEluVXNlclxuQ29tcG9uZW50QWNjZXNzb3IuamlyYUF1dGhlbnRpY2F0aW9uQ29udGV4dC5zZXRMb2dnZWRJblVzZXIoQ29tcG9uZW50QWNjZXNzb3IuZ2V0VXNlck1hbmFnZXIoKS5nZXRVc2VyQnlLZXkoXCJhdGxhc3NpYW5fZmFhY19zZXJ2aWNlX2Rlc2tcIikpXG5BcHBsaWNhdGlvblVzZXIgdXNlciA9IENvbXBvbmVudEFjY2Vzc29yLmppcmFBdXRoZW50aWNhdGlvbkNvbnRleHQubG9nZ2VkSW5Vc2VyXG4vL0NhdGVnb3JpYSBhcHByb3ZhemlvbmUgUFJPRCAyMjI2MSAtIFRFU1QgMjE5MDhcbmRlZiBjYXRlZ29yaWFXRiA9IGlzc3VlLmdldEN1c3RvbUZpZWxkVmFsdWUoQ29tcG9uZW50QWNjZXNzb3IuZ2V0Q3VzdG9tRmllbGRNYW5hZ2VyKCkuZ2V0Q3VzdG9tRmllbGRPYmplY3QoMjIyNjEpKVxuXG5kZWYganFsU2VhcmNoID0gXCJcIlxuXG5pZiAoY2F0ZWdvcmlhV0YgPT0gXCJBcHByb3ZhbCBXb3JrZmxvd1wiKVxuXHRqcWxTZWFyY2ggPSBcInByb2plY3QgPSAnXCIgKyBpc3N1ZS5nZXRQcm9qZWN0T2JqZWN0KCkubmFtZSArIFwiJyBBTkQgaXNzdWV0eXBlID0gJ1N1Yi1XRlN0ZXAnIEFORCByZXNvbHV0aW9uID0gVW5yZXNvbHZlZCBBTkQgcGFyZW50ID0gJ1wiICsgcGFyZW50SXNzdWUua2V5ICsgXCInXCJcbmVsc2VcbiAgICBqcWxTZWFyY2ggPSBcInByb2plY3QgPSAnXCIgKyBpc3N1ZS5nZXRQcm9qZWN0T2JqZWN0KCkubmFtZSArIFwiJyBBTkQgaXNzdWV0eXBlID0gJ1N1Yi1QUlN0ZXAnIEFORCByZXNvbHV0aW9uID0gVW5yZXNvbHZlZCBBTkQgcGFyZW50ID0gJ1wiICsgcGFyZW50SXNzdWUua2V5ICsgXCInXCJcblxuZGVmIHF1ZXJ5ID0ganFsUXVlcnlQYXJzZXIucGFyc2VRdWVyeShqcWxTZWFyY2gpXG5kZWYgc2VhcmNoID0gc2VhcmNoU2VydmljZS5zZWFyY2godXNlciwgcXVlcnksIFBhZ2VyRmlsdGVyLmdldFVubGltaXRlZEZpbHRlcigpKVxubG9nLmRlYnVnIHNlYXJjaC5yZXN1bHRzLnNpemUoKVxuXG5Db21wb25lbnRBY2Nlc3Nvci5qaXJhQXV0aGVudGljYXRpb25Db250ZXh0LnNldExvZ2dlZEluVXNlcihDb21wb25lbnRBY2Nlc3Nvci5nZXRVc2VyTWFuYWdlcigpLmdldFVzZXJCeUtleShcImF0bGFzc2lhbl9mYWFjX3NlcnZpY2VfZGVza1wiKSlcbmRlZiBjdXJyZW50VXNlciA9IENvbXBvbmVudEFjY2Vzc29yLmppcmFBdXRoZW50aWNhdGlvbkNvbnRleHQuZ2V0TG9nZ2VkSW5Vc2VyKCk7XG5cbklzc3VlU2VydmljZSBpc3N1ZVNlcnZpY2UgPSBDb21wb25lbnRBY2Nlc3Nvci5nZXRJc3N1ZVNlcnZpY2UoKVxuSXNzdWVTZXJ2aWNlLlRyYW5zaXRpb25WYWxpZGF0aW9uUmVzdWx0IHJlc3VsdDtcblRyYW5zaXRpb25PcHRpb25zIHRyYW5zaXRpb25PcHRpb25zID0gbmV3IFRyYW5zaXRpb25PcHRpb25zLkJ1aWxkZXIoKS5za2lwQ29uZGl0aW9ucygpLnNraXBQZXJtaXNzaW9ucygpLnNraXBWYWxpZGF0b3JzKCkuYnVpbGQoKVxuXG5pZiAoY2F0ZWdvcmlhV0YgPT0gXCJBcHByb3ZhbCBXb3JrZmxvd1wiKXtcbiAgICByZXN1bHQgPSBpc3N1ZVNlcnZpY2UudmFsaWRhdGVUcmFuc2l0aW9uKGN1cnJlbnRVc2VyLCBwYXJlbnRJc3N1ZS5nZXRJZCgpLDExMSwgaXNzdWVTZXJ2aWNlLm5ld0lzc3VlSW5wdXRQYXJhbWV0ZXJzKCksIHRyYW5zaXRpb25PcHRpb25zKVxuICAgIGlmIChyZXN1bHQuaXNWYWxpZCgpKSB7XG4gICAgICAgIGlzc3VlU2VydmljZS50cmFuc2l0aW9uKGN1cnJlbnRVc2VyLCByZXN1bHQpXG4gICAgfVxufVxuaWYgKGNhdGVnb3JpYVdGID09IFwiUHJvZHVjdGlvbiBTZXNzaW9uIFdvcmtmbG93XCIpe1xuICAgIHJlc3VsdCA9IGlzc3VlU2VydmljZS52YWxpZGF0ZVRyYW5zaXRpb24oY3VycmVudFVzZXIsIHBhcmVudElzc3VlLmdldElkKCksOTEsIGlzc3VlU2VydmljZS5uZXdJc3N1ZUlucHV0UGFyYW1ldGVycygpLCB0cmFuc2l0aW9uT3B0aW9ucylcbiAgICBpZiAocmVzdWx0LmlzVmFsaWQoKSkge1xuICAgICAgICBpc3N1ZVNlcnZpY2UudHJhbnNpdGlvbihjdXJyZW50VXNlciwgcmVzdWx0KVxuICAgIH1cbn1cblxuLy9Xb3JrZmxvd1RyYW5zaXRpb25VdGlsIHdvcmtmbG93VHJhbnNpdGlvblV0aWwgPSAoV29ya2Zsb3dUcmFuc2l0aW9uVXRpbCkgSmlyYVV0aWxzLmxvYWRDb21wb25lbnQoV29ya2Zsb3dUcmFuc2l0aW9uVXRpbEltcGwuY2xhc3MpO1xuLy93b3JrZmxvd1RyYW5zaXRpb25VdGlsLnNldElzc3VlKHBhcmVudElzc3VlKTtcbi8vbG9nLmRlYnVnIFwiY2F0ZWdvcmkgdHJhbnNhemlvbmUgXCIgKyBjYXRlZ29yaWFXRlxuXG4vL2lmIChjYXRlZ29yaWFXRiA9PSBcIkFwcHJvdmFsIFdvcmtmbG93XCIpXG4vLyAgICB3b3JrZmxvd1RyYW5zaXRpb25VdGlsLnNldEFjdGlvbigxMTEpO1xuLy9pZiAoY2F0ZWdvcmlhV0YgPT0gXCJQcm9kdWN0aW9uIFNlc3Npb24gV29ya2Zsb3dcIilcbi8vICAgIHdvcmtmbG93VHJhbnNpdGlvblV0aWwuc2V0QWN0aW9uKDkxKTtcbi8vSXNzdWUgUmVqZWN0ZWQgUFJPRCAyMjI2NSAtIFRFU1QgMjIwMjBcbmRlZiBpc3N1ZVByb2RSZWplY3RlZCA9IHBhcmVudElzc3VlLmdldEN1c3RvbUZpZWxkVmFsdWUoQ29tcG9uZW50QWNjZXNzb3IuZ2V0Q3VzdG9tRmllbGRNYW5hZ2VyKCkuZ2V0Q3VzdG9tRmllbGRPYmplY3QoMjIyNjUpKVxuXG5pZiAoaXNzdWVQcm9kUmVqZWN0ZWQ9PW51bGwpXG5cdGlzc3VlUHJvZFJlamVjdGVkID0gXCJcIlxuXG4vL3dvcmtmbG93VHJhbnNpdGlvblV0aWwudmFsaWRhdGUoKTtcbi8vd29ya2Zsb3dUcmFuc2l0aW9uVXRpbC5wcm9ncmVzcygpO1xuXG5kZWYgcmVzb2x1dGlvbk1hbmFnZXIgPSBDb21wb25lbnRBY2Nlc3Nvci5nZXRDb21wb25lbnQoUmVzb2x1dGlvbk1hbmFnZXIpXG5cbi8vIHVwZGF0ZSBzb2xvIHN1YiB0YXNrIGNvbiByaXNvbHV6aW9uZSBVbnJlc29sdmVkICAgXG5mb3IgKGN1cnJJIGluIHNlYXJjaC5yZXN1bHRzKVxueyAgICBcbiAgICBNdXRhYmxlSXNzdWUgY3Vycklzc3VlID1pc3N1ZU1hbmFnZXIuZ2V0SXNzdWVCeUtleUlnbm9yZUNhc2UoY3Vyckkua2V5KVxuICAgXHRcbiAgICBpZiAoaXNzdWVQcm9kUmVqZWN0ZWQgPT0gXCJcIilcbiAgICAgICAgXHRpc3N1ZVByb2RSZWplY3RlZCA9IGN1cnJJc3N1ZS5rZXkudG9TdHJpbmcoKVxuXHRcdGVsc2UgXG4gICAgICAgICAgIFx0aXNzdWVQcm9kUmVqZWN0ZWQgPSBpc3N1ZVByb2RSZWplY3RlZC50b1N0cmluZygpICsgXCIsIFwiICsgY3Vycklzc3VlLmtleS50b1N0cmluZygpXG4gICAgLy9Jc3N1ZSBSZWplY3RlZCBQUk9EIDIyMjY1IC0gVEVTVCAyMjAyMFxuICAgIHBhcmVudElzc3VlLnNldEN1c3RvbUZpZWxkVmFsdWUoQ29tcG9uZW50QWNjZXNzb3IuZ2V0Q3VzdG9tRmllbGRNYW5hZ2VyKCkuZ2V0Q3VzdG9tRmllbGRPYmplY3QoMjIyNjUpLCBpc3N1ZVByb2RSZWplY3RlZClcbiAgICBcbiAgICBpZiAoY2F0ZWdvcmlhV0YgPT0gXCJBcHByb3ZhbCBXb3JrZmxvd1wiKVxuICAgIFx0Y3Vycklzc3VlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbk1hbmFnZXIuZ2V0UmVzb2x1dGlvbkJ5TmFtZShcIkFwcHJvdmFsIFJlamVjdGVkXCIpKVxuICAgIFxuICAgIGlmIChjYXRlZ29yaWFXRiA9PSBcIlByb2R1Y3Rpb24gU2Vzc2lvbiBXb3JrZmxvd1wiKXtcbiAgICBcdGN1cnJJc3N1ZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb25NYW5hZ2VyLmdldFJlc29sdXRpb25CeU5hbWUoXCJQcm9kdWN0aW9uIFJlamVjdGVkXCIpKVxuICAgIH1cbiAgICBcbiAgICBpc3N1ZU1hbmFnZXIudXBkYXRlSXNzdWUodXNlciwgY3Vycklzc3VlLCBFdmVudERpc3BhdGNoT3B0aW9uLkRPX05PVF9ESVNQQVRDSCwgZmFsc2UpXG4gICAgaXNzdWVJbmRleGluZ1NlcnZpY2UucmVJbmRleChjdXJySXNzdWUpXG4gICAgaXNzdWVNYW5hZ2VyLnVwZGF0ZUlzc3VlKHVzZXIsIHBhcmVudElzc3VlLCBFdmVudERpc3BhdGNoT3B0aW9uLkRPX05PVF9ESVNQQVRDSCwgZmFsc2UpXG5cdGlzc3VlSW5kZXhpbmdTZXJ2aWNlLnJlSW5kZXgocGFyZW50SXNzdWUpXG59XG5cbmlmIChjYXRlZ29yaWFXRiA9PSBcIkFwcHJvdmFsIFdvcmtmbG93XCIpXG5cdGlzc3VlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbk1hbmFnZXIuZ2V0UmVzb2x1dGlvbkJ5TmFtZShcIkFwcHJvdmFsIFJlamVjdGVkXCIpKVxuXG5pZiAoY2F0ZWdvcmlhV0YgPT0gXCJQcm9kdWN0aW9uIFNlc3Npb24gV29ya2Zsb3dcIilcblx0aXNzdWUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uTWFuYWdlci5nZXRSZXNvbHV0aW9uQnlOYW1lKFwiUHJvZHVjdGlvbiBSZWplY3RlZFwiKSlcblxuaXNzdWVNYW5hZ2VyLnVwZGF0ZUlzc3VlKHVzZXIsIGlzc3VlLCBFdmVudERpc3BhdGNoT3B0aW9uLkRPX05PVF9ESVNQQVRDSCwgZmFsc2UpXG5pc3N1ZUluZGV4aW5nU2VydmljZS5yZUluZGV4KGlzc3VlKVxuXG4iLCJzY3JpcHRQYXRoIjpudWxsLCJwYXJhbWV0ZXJzIjp7fX0=</arg>
                  <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
                  <arg name="FIELD_INLINE_SCRIPT">YCFgCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuY29tcG9uZW50LkNvbXBvbmVudEFjY2Vzc29yCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuSXNzdWUKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5NdXRhYmxlSXNzdWUKaW1wb3J0IGNvbS5vcGVuc3ltcGhvbnkud29ya2Zsb3cuV29ya2Zsb3dDb250ZXh0OwppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmNvbmZpZy5TdWJUYXNrTWFuYWdlcgppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLndvcmtmbG93LldvcmtmbG93VHJhbnNpdGlvblV0aWw7CmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEud29ya2Zsb3cuV29ya2Zsb3dUcmFuc2l0aW9uVXRpbEltcGw7CmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEudXRpbC5KaXJhVXRpbHM7CmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuc3RhdHVzLlN0YXR1cwppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmNvbXBvbmVudC5Db21wb25lbnRBY2Nlc3NvcgppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLklzc3VlCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEudXNlci5BcHBsaWNhdGlvblVzZXIKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5NdXRhYmxlSXNzdWUKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5qcWwucGFyc2VyLkpxbFF1ZXJ5UGFyc2VyCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEud2ViLmJlYW4uUGFnZXJGaWx0ZXIKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5iYy5pc3N1ZS5zZWFyY2guU2VhcmNoU2VydmljZQppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmNvbXBvbmVudC5Db21wb25lbnRBY2Nlc3NvcgppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLklzc3VlCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuSXNzdWVNYW5hZ2VyCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuQ3VzdG9tRmllbGRNYW5hZ2VyCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuZmllbGRzLkN1c3RvbUZpZWxkCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEudXNlci51dGlsLlVzZXJVdGlsCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuY29tcG9uZW50LkNvbXBvbmVudEFjY2Vzc29yCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuSXNzdWUKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5jb25maWcuUmVzb2x1dGlvbk1hbmFnZXIKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5ldmVudC50eXBlLkV2ZW50RGlzcGF0Y2hPcHRpb24KaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5pbmRleC5Jc3N1ZUluZGV4aW5nU2VydmljZQppbXBvcnQgb3JnLmFwYWNoZS5sb2c0ai5DYXRlZ29yeQpDYXRlZ29yeSBsb2cgPSBDYXRlZ29yeS5nZXRJbnN0YW5jZSgiY29tLm9ucmVzb2x2ZS5qaXJhLmdyb292eS5Qb3N0RnVuY3Rpb24iKQoKbG9nLnNldExldmVsKG9yZy5hcGFjaGUubG9nNGouTGV2ZWwuREVCVUcpCgpTZWFyY2hTZXJ2aWNlIAkJc2VhcmNoU2VydmljZSAJCT0gQ29tcG9uZW50QWNjZXNzb3IuZ2V0Q29tcG9uZW50KFNlYXJjaFNlcnZpY2UuY2xhc3MpClVzZXJVdGlsIAkJCXVzZXJVdGlsIAkJCT0gQ29tcG9uZW50QWNjZXNzb3IuZ2V0VXNlclV0aWwoKQpJc3N1ZU1hbmFnZXIgCQlpc3N1ZU1hbmFnZXIgCQk9IENvbXBvbmVudEFjY2Vzc29yLmdldElzc3VlTWFuYWdlcigpCgpNdXRhYmxlSXNzdWUgcGFyZW50SXNzdWUgPSBpc3N1ZS5wYXJlbnRPYmplY3Q7CgpTdWJUYXNrTWFuYWdlciBzdWJUYXNrTWFuYWdlciA9IENvbXBvbmVudEFjY2Vzc29yLmdldFN1YlRhc2tNYW5hZ2VyKCk7CkNvbGxlY3Rpb24gc3ViVGFza3MgPSBwYXJlbnRJc3N1ZS5nZXRTdWJUYXNrT2JqZWN0cygpOwpkZWYganFsUXVlcnlQYXJzZXIgPSBDb21wb25lbnRBY2Nlc3Nvci5nZXRDb21wb25lbnQoSnFsUXVlcnlQYXJzZXIpCmlzc3VlTWFuYWdlciA9IENvbXBvbmVudEFjY2Vzc29yLmdldElzc3VlTWFuYWdlcigpCklzc3VlSW5kZXhpbmdTZXJ2aWNlIGlzc3VlSW5kZXhpbmdTZXJ2aWNlID0gQ29tcG9uZW50QWNjZXNzb3IuZ2V0Q29tcG9uZW50KElzc3VlSW5kZXhpbmdTZXJ2aWNlKQoKQXBwbGljYXRpb25Vc2VyIG9sZFVzZXIgPSBDb21wb25lbnRBY2Nlc3Nvci5qaXJhQXV0aGVudGljYXRpb25Db250ZXh0LmxvZ2dlZEluVXNlcgpDb21wb25lbnRBY2Nlc3Nvci5qaXJhQXV0aGVudGljYXRpb25Db250ZXh0LnNldExvZ2dlZEluVXNlcihDb21wb25lbnRBY2Nlc3Nvci5nZXRVc2VyTWFuYWdlcigpLmdldFVzZXJCeUtleSgiYXRsYXNzaWFuX2ZhYWNfc2VydmljZV9kZXNrIikpCkFwcGxpY2F0aW9uVXNlciB1c2VyID0gQ29tcG9uZW50QWNjZXNzb3IuamlyYUF1dGhlbnRpY2F0aW9uQ29udGV4dC5sb2dnZWRJblVzZXIKLy9DYXRlZ29yaWEgYXBwcm92YXppb25lIFBST0QgMjIyNjEgLSBURVNUIDIxOTA4CmRlZiBjYXRlZ29yaWFXRiA9IGlzc3VlLmdldEN1c3RvbUZpZWxkVmFsdWUoQ29tcG9uZW50QWNjZXNzb3IuZ2V0Q3VzdG9tRmllbGRNYW5hZ2VyKCkuZ2V0Q3VzdG9tRmllbGRPYmplY3QoMjIyNjEpKQoKZGVmIGpxbFNlYXJjaCA9ICIiCgppZiAoY2F0ZWdvcmlhV0YgPT0gIkFwcHJvdmFsIFdvcmtmbG93IikKCWpxbFNlYXJjaCA9ICJwcm9qZWN0ID0gJyIgKyBpc3N1ZS5nZXRQcm9qZWN0T2JqZWN0KCkubmFtZSArICInIEFORCBpc3N1ZXR5cGUgPSAnU3ViLVdGU3RlcCcgQU5EIHJlc29sdXRpb24gPSBVbnJlc29sdmVkIEFORCBwYXJlbnQgPSAnIiArIHBhcmVudElzc3VlLmtleSArICInIgplbHNlCiAgICBqcWxTZWFyY2ggPSAicHJvamVjdCA9ICciICsgaXNzdWUuZ2V0UHJvamVjdE9iamVjdCgpLm5hbWUgKyAiJyBBTkQgaXNzdWV0eXBlID0gJ1N1Yi1QUlN0ZXAnIEFORCByZXNvbHV0aW9uID0gVW5yZXNvbHZlZCBBTkQgcGFyZW50ID0gJyIgKyBwYXJlbnRJc3N1ZS5rZXkgKyAiJyIKCmRlZiBxdWVyeSA9IGpxbFF1ZXJ5UGFyc2VyLnBhcnNlUXVlcnkoanFsU2VhcmNoKQpkZWYgc2VhcmNoID0gc2VhcmNoU2VydmljZS5zZWFyY2godXNlciwgcXVlcnksIFBhZ2VyRmlsdGVyLmdldFVubGltaXRlZEZpbHRlcigpKQpsb2cuZGVidWcgc2VhcmNoLnJlc3VsdHMuc2l6ZSgpCgpkZWYgY3VycmVudFVzZXIgPSBDb21wb25lbnRBY2Nlc3Nvci5qaXJhQXV0aGVudGljYXRpb25Db250ZXh0LmdldExvZ2dlZEluVXNlcigpOwoKV29ya2Zsb3dUcmFuc2l0aW9uVXRpbCB3b3JrZmxvd1RyYW5zaXRpb25VdGlsID0gKFdvcmtmbG93VHJhbnNpdGlvblV0aWwpIEppcmFVdGlscy5sb2FkQ29tcG9uZW50KFdvcmtmbG93VHJhbnNpdGlvblV0aWxJbXBsLmNsYXNzKTsKd29ya2Zsb3dUcmFuc2l0aW9uVXRpbC5zZXRJc3N1ZShwYXJlbnRJc3N1ZSk7CmxvZy5kZWJ1ZyAiY2F0ZWdvcmkgdHJhbnNhemlvbmUgIiArIGNhdGVnb3JpYVdGCmlmIChjYXRlZ29yaWFXRiA9PSAiQXBwcm92YWwgV29ya2Zsb3ciKQp3b3JrZmxvd1RyYW5zaXRpb25VdGlsLnNldEFjdGlvbigxMTEpOwppZiAoY2F0ZWdvcmlhV0YgPT0gIlByb2R1Y3Rpb24gU2Vzc2lvbiBXb3JrZmxvdyIpCndvcmtmbG93VHJhbnNpdGlvblV0aWwuc2V0QWN0aW9uKDkxKTsKLy9Jc3N1ZSBSZWplY3RlZCBQUk9EIDIyMjY1IC0gVEVTVCAyMjAyMApkZWYgaXNzdWVQcm9kUmVqZWN0ZWQgPSBwYXJlbnRJc3N1ZS5nZXRDdXN0b21GaWVsZFZhbHVlKENvbXBvbmVudEFjY2Vzc29yLmdldEN1c3RvbUZpZWxkTWFuYWdlcigpLmdldEN1c3RvbUZpZWxkT2JqZWN0KDIyMjY1KSkKCmlmIChpc3N1ZVByb2RSZWplY3RlZD09bnVsbCkKCWlzc3VlUHJvZFJlamVjdGVkID0gIiIKCndvcmtmbG93VHJhbnNpdGlvblV0aWwudmFsaWRhdGUoKTsKd29ya2Zsb3dUcmFuc2l0aW9uVXRpbC5wcm9ncmVzcygpOwoKZGVmIHJlc29sdXRpb25NYW5hZ2VyID0gQ29tcG9uZW50QWNjZXNzb3IuZ2V0Q29tcG9uZW50KFJlc29sdXRpb25NYW5hZ2VyKQoKLy8gdXBkYXRlIHNvbG8gc3ViIHRhc2sgY29uIHJpc29sdXppb25lIFVucmVzb2x2ZWQgICAKZm9yIChjdXJySSBpbiBzZWFyY2gucmVzdWx0cykKeyAgICAKICAgIE11dGFibGVJc3N1ZSBjdXJySXNzdWUgPWlzc3VlTWFuYWdlci5nZXRJc3N1ZUJ5S2V5SWdub3JlQ2FzZShjdXJySS5rZXkpCiAgIAkKICAgIGlmIChpc3N1ZVByb2RSZWplY3RlZCA9PSAiIikKICAgICAgICAJaXNzdWVQcm9kUmVqZWN0ZWQgPSBjdXJySXNzdWUua2V5LnRvU3RyaW5nKCkKCQllbHNlIAogICAgICAgICAgIAlpc3N1ZVByb2RSZWplY3RlZCA9IGlzc3VlUHJvZFJlamVjdGVkLnRvU3RyaW5nKCkgKyAiLCAiICsgY3Vycklzc3VlLmtleS50b1N0cmluZygpCiAgICAvL0lzc3VlIFJlamVjdGVkIFBST0QgMjIyNjUgLSBURVNUIDIyMDIwCiAgICBwYXJlbnRJc3N1ZS5zZXRDdXN0b21GaWVsZFZhbHVlKENvbXBvbmVudEFjY2Vzc29yLmdldEN1c3RvbUZpZWxkTWFuYWdlcigpLmdldEN1c3RvbUZpZWxkT2JqZWN0KDIyMjY1KSwgaXNzdWVQcm9kUmVqZWN0ZWQpCiAgICAKICAgIGlmIChjYXRlZ29yaWFXRiA9PSAiQXBwcm92YWwgV29ya2Zsb3ciKQogICAgCWN1cnJJc3N1ZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb25NYW5hZ2VyLmdldFJlc29sdXRpb25CeU5hbWUoIkFwcHJvdmFsIFJlamVjdGVkIikpCiAgICAKICAgIGlmIChjYXRlZ29yaWFXRiA9PSAiUHJvZHVjdGlvbiBTZXNzaW9uIFdvcmtmbG93Iil7CiAgICAJY3Vycklzc3VlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbk1hbmFnZXIuZ2V0UmVzb2x1dGlvbkJ5TmFtZSgiUHJvZHVjdGlvbiBSZWplY3RlZCIpKQogICAgfQogICAgCiAgICBpc3N1ZU1hbmFnZXIudXBkYXRlSXNzdWUodXNlciwgY3Vycklzc3VlLCBFdmVudERpc3BhdGNoT3B0aW9uLkRPX05PVF9ESVNQQVRDSCwgZmFsc2UpCiAgICBpc3N1ZUluZGV4aW5nU2VydmljZS5yZUluZGV4KGN1cnJJc3N1ZSkKICAgIGlzc3VlTWFuYWdlci51cGRhdGVJc3N1ZSh1c2VyLCBwYXJlbnRJc3N1ZSwgRXZlbnREaXNwYXRjaE9wdGlvbi5ET19OT1RfRElTUEFUQ0gsIGZhbHNlKQoJaXNzdWVJbmRleGluZ1NlcnZpY2UucmVJbmRleChwYXJlbnRJc3N1ZSkKfQoKaWYgKGNhdGVnb3JpYVdGID09ICJBcHByb3ZhbCBXb3JrZmxvdyIpCglpc3N1ZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb25NYW5hZ2VyLmdldFJlc29sdXRpb25CeU5hbWUoIkFwcHJvdmFsIFJlamVjdGVkIikpCgppZiAoY2F0ZWdvcmlhV0YgPT0gIlByb2R1Y3Rpb24gU2Vzc2lvbiBXb3JrZmxvdyIpCglpc3N1ZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb25NYW5hZ2VyLmdldFJlc29sdXRpb25CeU5hbWUoIlByb2R1Y3Rpb24gUmVqZWN0ZWQiKSkKCmlzc3VlTWFuYWdlci51cGRhdGVJc3N1ZSh1c2VyLCBpc3N1ZSwgRXZlbnREaXNwYXRjaE9wdGlvbi5ET19OT1RfRElTUEFUQ0gsIGZhbHNlKQppc3N1ZUluZGV4aW5nU2VydmljZS5yZUluZGV4KGlzc3VlKQoK</arg>
                  <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
                  <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
                  <arg name="FIELD_SCRIPT_FILE"></arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
        <action id="21" name="Approved">
          <meta name="jira.description"></meta>
          <meta name="jira.fieldscreen.id"></meta>
          <results>
            <unconditional-result old-status="null" status="null" step="3">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">13</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
                <function type="class">
                  <arg name="FIELD_FUNCTION_ID">bf6d0ee791ce5aae2ebbd53a8b83824d82fecbd9</arg>
                  <arg name="FIELD_NOTES">YCFgc2UgdHV0dGkgaSBzdWJ0YXNrIHNvbm8gYXBwcm92ZWQgYWxsb3JhIGFsbG9yYSBsYSBpc3N1ZSBwYWRyZSBkaXZlbnRhIGFwcHJvdmVk</arg>
                  <arg name="FIELD_SCRIPT_FILE_OR_SCRIPT">YCFgeyJzY3JpcHQiOiJpbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmNvbXBvbmVudC5Db21wb25lbnRBY2Nlc3NvclxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5Jc3N1ZVxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5NdXRhYmxlSXNzdWVcbmltcG9ydCBjb20ub3BlbnN5bXBob255LndvcmtmbG93LldvcmtmbG93Q29udGV4dDtcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuY29uZmlnLlN1YlRhc2tNYW5hZ2VyXG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLndvcmtmbG93LldvcmtmbG93VHJhbnNpdGlvblV0aWw7XG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLndvcmtmbG93LldvcmtmbG93VHJhbnNpdGlvblV0aWxJbXBsO1xuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS51dGlsLkppcmFVdGlscztcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuc3RhdHVzLlN0YXR1c1xuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5jb21wb25lbnQuQ29tcG9uZW50QWNjZXNzb3JcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuSXNzdWVcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEudXNlci5BcHBsaWNhdGlvblVzZXJcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuTXV0YWJsZUlzc3VlXG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmpxbC5wYXJzZXIuSnFsUXVlcnlQYXJzZXJcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEud2ViLmJlYW4uUGFnZXJGaWx0ZXJcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuYmMuaXNzdWUuc2VhcmNoLlNlYXJjaFNlcnZpY2VcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuY29tcG9uZW50LkNvbXBvbmVudEFjY2Vzc29yXG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLklzc3VlXG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLklzc3VlTWFuYWdlclxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5DdXN0b21GaWVsZE1hbmFnZXJcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuZmllbGRzLkN1c3RvbUZpZWxkXG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLnVzZXIudXRpbC5Vc2VyVXRpbFxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5jb21wb25lbnQuQ29tcG9uZW50QWNjZXNzb3JcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuSXNzdWVcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuY29uZmlnLlJlc29sdXRpb25NYW5hZ2VyXG5pbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmV2ZW50LnR5cGUuRXZlbnREaXNwYXRjaE9wdGlvblxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5pbmRleC5Jc3N1ZUluZGV4aW5nU2VydmljZVxuaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5iYy5pc3N1ZS5Jc3N1ZVNlcnZpY2VcbmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEud29ya2Zsb3cuVHJhbnNpdGlvbk9wdGlvbnNcblxuU2VhcmNoU2VydmljZSBcdFx0c2VhcmNoU2VydmljZSBcdFx0PSBDb21wb25lbnRBY2Nlc3Nvci5nZXRDb21wb25lbnQoU2VhcmNoU2VydmljZS5jbGFzcylcblVzZXJVdGlsIFx0XHRcdHVzZXJVdGlsIFx0XHRcdD0gQ29tcG9uZW50QWNjZXNzb3IuZ2V0VXNlclV0aWwoKVxuSXNzdWVNYW5hZ2VyIFx0XHRpc3N1ZU1hbmFnZXIgXHRcdD0gQ29tcG9uZW50QWNjZXNzb3IuZ2V0SXNzdWVNYW5hZ2VyKClcblxuTXV0YWJsZUlzc3VlIHBhcmVudElzc3VlID0gaXNzdWUucGFyZW50T2JqZWN0O1xuXG5TdWJUYXNrTWFuYWdlciBzdWJUYXNrTWFuYWdlciA9IENvbXBvbmVudEFjY2Vzc29yLmdldFN1YlRhc2tNYW5hZ2VyKCk7XG5Db2xsZWN0aW9uIHN1YlRhc2tzID0gcGFyZW50SXNzdWUuZ2V0U3ViVGFza09iamVjdHMoKTtcbmRlZiBqcWxRdWVyeVBhcnNlciA9IENvbXBvbmVudEFjY2Vzc29yLmdldENvbXBvbmVudChKcWxRdWVyeVBhcnNlcilcbmlzc3VlTWFuYWdlciA9IENvbXBvbmVudEFjY2Vzc29yLmdldElzc3VlTWFuYWdlcigpXG5Jc3N1ZUluZGV4aW5nU2VydmljZSBpc3N1ZUluZGV4aW5nU2VydmljZSA9IENvbXBvbmVudEFjY2Vzc29yLmdldENvbXBvbmVudChJc3N1ZUluZGV4aW5nU2VydmljZSlcblxuQXBwbGljYXRpb25Vc2VyIG9sZFVzZXIgPSBDb21wb25lbnRBY2Nlc3Nvci5qaXJhQXV0aGVudGljYXRpb25Db250ZXh0LmxvZ2dlZEluVXNlclxuQ29tcG9uZW50QWNjZXNzb3IuamlyYUF1dGhlbnRpY2F0aW9uQ29udGV4dC5zZXRMb2dnZWRJblVzZXIoQ29tcG9uZW50QWNjZXNzb3IuZ2V0VXNlck1hbmFnZXIoKS5nZXRVc2VyQnlLZXkoXCJhdGxhc3NpYW5fZmFhY19zZXJ2aWNlX2Rlc2tcIikpXG5BcHBsaWNhdGlvblVzZXIgdXNlciA9IENvbXBvbmVudEFjY2Vzc29yLmppcmFBdXRoZW50aWNhdGlvbkNvbnRleHQubG9nZ2VkSW5Vc2VyXG5cbi8vQ2F0ZWdvcmlhIGFwcHJvdmF6aW9uZSBQUk9EIDIyMjYxIC0gVEVTVCAyMTkwOFxuZGVmIGNhdGVnb3JpYVdGID0gaXNzdWUuZ2V0Q3VzdG9tRmllbGRWYWx1ZShDb21wb25lbnRBY2Nlc3Nvci5nZXRDdXN0b21GaWVsZE1hbmFnZXIoKS5nZXRDdXN0b21GaWVsZE9iamVjdCgyMjI2MSkpXG5cbmRlZiBqcWxTZWFyY2ggPSBcIlwiXG5cbmlmIChjYXRlZ29yaWFXRiA9PSBcIkFwcHJvdmFsIFdvcmtmbG93XCIpXG5cdGpxbFNlYXJjaCA9IFwicHJvamVjdCA9ICdcIiArIGlzc3VlLmdldFByb2plY3RPYmplY3QoKS5uYW1lICsgXCInIEFORCBpc3N1ZXR5cGUgPSAnU3ViLVdGU3RlcCcgQU5EIHJlc29sdXRpb24gPSBVbnJlc29sdmVkIEFORCBwYXJlbnQgPSAnXCIgKyBwYXJlbnRJc3N1ZS5rZXkgKyBcIicgQU5EIGtleSAhPSAnXCIgKyBpc3N1ZS5rZXkgKyBcIidcIlxuZWxzZVxuICAgXHRqcWxTZWFyY2ggPSBcInByb2plY3QgPSAnXCIgKyBpc3N1ZS5nZXRQcm9qZWN0T2JqZWN0KCkubmFtZSArIFwiJyBBTkQgaXNzdWV0eXBlID0gJ1N1Yi1QUlN0ZXAnIEFORCByZXNvbHV0aW9uID0gVW5yZXNvbHZlZCBBTkQgcGFyZW50ID0gJ1wiICsgcGFyZW50SXNzdWUua2V5ICsgXCInIEFORCBrZXkgIT0gJ1wiICsgaXNzdWUua2V5ICsgXCInXCJcblxuZGVmIHF1ZXJ5ID0ganFsUXVlcnlQYXJzZXIucGFyc2VRdWVyeShqcWxTZWFyY2gpXG5kZWYgc2VhcmNoID0gc2VhcmNoU2VydmljZS5zZWFyY2godXNlciwgcXVlcnksIFBhZ2VyRmlsdGVyLmdldFVubGltaXRlZEZpbHRlcigpKVxuXG5cbmRlZiBjaGFuZ2VUcmFuc2FjdGlvbj0gdHJ1ZVxuLy9kZXZvIGNlcmNhcmUgaSBzdWJ0YXNrIGNvbiByaXNvbHV6aW9uZSBVbnJlc29sdmVkIFxuZm9yIChjdXJySXNzdWUgaW4gc2VhcmNoLnJlc3VsdHMpXG57XG4gICAgLy9DYXRlZ29yaWEgYXBwcm92YXppb25lIFBST0QgMjIyNjEgLSBURVNUIDIxOTA4XG4gICAgaWYgKGN1cnJJc3N1ZS5nZXRDdXN0b21GaWVsZFZhbHVlKENvbXBvbmVudEFjY2Vzc29yLmdldEN1c3RvbUZpZWxkTWFuYWdlcigpLmdldEN1c3RvbUZpZWxkT2JqZWN0KDIyMjYxKSkgPT0gY2F0ZWdvcmlhV0Ype1xuICAgIFx0aWYgKGN1cnJJc3N1ZS5nZXRTdGF0dXNPYmplY3QoKS5uYW1lICE9IFwiQXBwcm92ZWRcIilcbiAgICBcdFx0Y2hhbmdlVHJhbnNhY3Rpb24gPSBmYWxzZVxuICAgIH1cbn1cblxuaWYgKGNoYW5nZVRyYW5zYWN0aW9uPT10cnVlKVxueyAgIFxuICAgIGRlZiByZXNvbHV0aW9uTWFuYWdlciA9IENvbXBvbmVudEFjY2Vzc29yLmdldENvbXBvbmVudChSZXNvbHV0aW9uTWFuYWdlcilcblxuICAgIC8vIHVwZGF0ZSBzb2xvIHN1YiB0YXNrIGNvbiByaXNvbHV6aW9uZSBVbnJlc29sdmVkICAgXG4gICAgZm9yIChjdXJySSBpbiBzZWFyY2gucmVzdWx0cylcbiAgICB7ICAgIFxuICAgICAgICBNdXRhYmxlSXNzdWUgY3Vycklzc3VlID1pc3N1ZU1hbmFnZXIuZ2V0SXNzdWVCeUtleUlnbm9yZUNhc2UoY3Vyckkua2V5KVxuXG4gICAgICAgIGlmIChjYXRlZ29yaWFXRiA9PSBcIkFwcHJvdmFsIFdvcmtmbG93XCIpXG4gICAgICAgICAgICBjdXJySXNzdWUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uTWFuYWdlci5nZXRSZXNvbHV0aW9uQnlOYW1lKFwiQXBwcm92YWwgQ29tcGxldGVkXCIpKVxuXG4gICAgICAgICBpZiAoY2F0ZWdvcmlhV0YgPT0gXCJQcm9kdWN0aW9uIFNlc3Npb24gV29ya2Zsb3dcIilcbiAgICAgICAgICAgIGN1cnJJc3N1ZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb25NYW5hZ2VyLmdldFJlc29sdXRpb25CeU5hbWUoXCJQcm9kdWN0aW9uIENvbXBsZXRlZFwiKSlcblxuICAgICAgICBpc3N1ZU1hbmFnZXIudXBkYXRlSXNzdWUodXNlciwgY3Vycklzc3VlLCBFdmVudERpc3BhdGNoT3B0aW9uLkRPX05PVF9ESVNQQVRDSCwgZmFsc2UpXG4gICAgfVxuXG4gICAgaWYgKGNhdGVnb3JpYVdGID09IFwiQXBwcm92YWwgV29ya2Zsb3dcIilcbiAgICAgICAgaXNzdWUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uTWFuYWdlci5nZXRSZXNvbHV0aW9uQnlOYW1lKFwiQXBwcm92YWwgQ29tcGxldGVkXCIpKVxuXG4gICAgaWYgKGNhdGVnb3JpYVdGID09IFwiUHJvZHVjdGlvbiBTZXNzaW9uIFdvcmtmbG93XCIpXG4gICAgICAgIGlzc3VlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbk1hbmFnZXIuZ2V0UmVzb2x1dGlvbkJ5TmFtZShcIlByb2R1Y3Rpb24gQ29tcGxldGVkXCIpKVxuXG4gICAgaXNzdWVNYW5hZ2VyLnVwZGF0ZUlzc3VlKHVzZXIsIGlzc3VlLCBFdmVudERpc3BhdGNoT3B0aW9uLkRPX05PVF9ESVNQQVRDSCwgZmFsc2UpXG4gICAgaXNzdWVJbmRleGluZ1NlcnZpY2UucmVJbmRleChpc3N1ZSlcbn1cblxuaWYgKGNoYW5nZVRyYW5zYWN0aW9uPT10cnVlKVxueyAgIFxuICAgIFxuICAgIENvbXBvbmVudEFjY2Vzc29yLmppcmFBdXRoZW50aWNhdGlvbkNvbnRleHQuc2V0TG9nZ2VkSW5Vc2VyKENvbXBvbmVudEFjY2Vzc29yLmdldFVzZXJNYW5hZ2VyKCkuZ2V0VXNlckJ5S2V5KFwiYXRsYXNzaWFuX2ZhYWNfc2VydmljZV9kZXNrXCIpKVxuXHRkZWYgY3VycmVudFVzZXIgPSBDb21wb25lbnRBY2Nlc3Nvci5qaXJhQXV0aGVudGljYXRpb25Db250ZXh0LmdldExvZ2dlZEluVXNlcigpO1xuICAgIElzc3VlU2VydmljZSBpc3N1ZVNlcnZpY2UgPSBDb21wb25lbnRBY2Nlc3Nvci5nZXRJc3N1ZVNlcnZpY2UoKVxuICAgIElzc3VlU2VydmljZS5UcmFuc2l0aW9uVmFsaWRhdGlvblJlc3VsdCByZXN1bHQ7XG4gICAgVHJhbnNpdGlvbk9wdGlvbnMgdHJhbnNpdGlvbk9wdGlvbnMgPSBuZXcgVHJhbnNpdGlvbk9wdGlvbnMuQnVpbGRlcigpLnNraXBDb25kaXRpb25zKCkuc2tpcFBlcm1pc3Npb25zKCkuc2tpcFZhbGlkYXRvcnMoKS5idWlsZCgpXG5cbiAgICBpZiAoY2F0ZWdvcmlhV0YgPT0gXCJBcHByb3ZhbCBXb3JrZmxvd1wiKXtcbiAgICAgICAgcmVzdWx0ID0gaXNzdWVTZXJ2aWNlLnZhbGlkYXRlVHJhbnNpdGlvbihjdXJyZW50VXNlciwgcGFyZW50SXNzdWUuZ2V0SWQoKSwyMSwgaXNzdWVTZXJ2aWNlLm5ld0lzc3VlSW5wdXRQYXJhbWV0ZXJzKCksIHRyYW5zaXRpb25PcHRpb25zKVxuICAgICAgICBpZiAocmVzdWx0LmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgaXNzdWVTZXJ2aWNlLnRyYW5zaXRpb24oY3VycmVudFVzZXIsIHJlc3VsdClcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2F0ZWdvcmlhV0YgPT0gXCJQcm9kdWN0aW9uIFNlc3Npb24gV29ya2Zsb3dcIil7XG4gICAgICAgIHJlc3VsdCA9IGlzc3VlU2VydmljZS52YWxpZGF0ZVRyYW5zaXRpb24oY3VycmVudFVzZXIsIHBhcmVudElzc3VlLmdldElkKCksODEsIGlzc3VlU2VydmljZS5uZXdJc3N1ZUlucHV0UGFyYW1ldGVycygpLCB0cmFuc2l0aW9uT3B0aW9ucylcbiAgICAgICAgaWYgKHJlc3VsdC5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIGlzc3VlU2VydmljZS50cmFuc2l0aW9uKGN1cnJlbnRVc2VyLCByZXN1bHQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKldvcmtmbG93VHJhbnNpdGlvblV0aWwgd29ya2Zsb3dUcmFuc2l0aW9uVXRpbCA9IChXb3JrZmxvd1RyYW5zaXRpb25VdGlsKSBKaXJhVXRpbHMubG9hZENvbXBvbmVudChXb3JrZmxvd1RyYW5zaXRpb25VdGlsSW1wbC5jbGFzcyk7XG4gICAgd29ya2Zsb3dUcmFuc2l0aW9uVXRpbC5zZXRJc3N1ZShwYXJlbnRJc3N1ZSk7XG4gICAgXG4gICAgaWYgKGNhdGVnb3JpYVdGID09IFwiQXBwcm92YWwgV29ya2Zsb3dcIilcbiAgICBcdHdvcmtmbG93VHJhbnNpdGlvblV0aWwuc2V0QWN0aW9uKDIxKTtcbiAgICBpZiAoY2F0ZWdvcmlhV0YgPT0gXCJQcm9kdWN0aW9uIFNlc3Npb24gV29ya2Zsb3dcIilcbiAgICBcdHdvcmtmbG93VHJhbnNpdGlvblV0aWwuc2V0QWN0aW9uKDgxKTtcblxuICAgIHdvcmtmbG93VHJhbnNpdGlvblV0aWwudmFsaWRhdGUoKTtcbiAgICB3b3JrZmxvd1RyYW5zaXRpb25VdGlsLnByb2dyZXNzKCk7Ki9cbn1cbiIsInNjcmlwdFBhdGgiOm51bGwsInBhcmFtZXRlcnMiOnt9fQ==</arg>
                  <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
                  <arg name="FIELD_INLINE_SCRIPT">YCFgaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5jb21wb25lbnQuQ29tcG9uZW50QWNjZXNzb3IKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5Jc3N1ZQppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLk11dGFibGVJc3N1ZQppbXBvcnQgY29tLm9wZW5zeW1waG9ueS53b3JrZmxvdy5Xb3JrZmxvd0NvbnRleHQ7CmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuY29uZmlnLlN1YlRhc2tNYW5hZ2VyCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEud29ya2Zsb3cuV29ya2Zsb3dUcmFuc2l0aW9uVXRpbDsKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS53b3JrZmxvdy5Xb3JrZmxvd1RyYW5zaXRpb25VdGlsSW1wbDsKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS51dGlsLkppcmFVdGlsczsKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5zdGF0dXMuU3RhdHVzCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuY29tcG9uZW50LkNvbXBvbmVudEFjY2Vzc29yCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuSXNzdWUKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS51c2VyLkFwcGxpY2F0aW9uVXNlcgppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLk11dGFibGVJc3N1ZQppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmpxbC5wYXJzZXIuSnFsUXVlcnlQYXJzZXIKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS53ZWIuYmVhbi5QYWdlckZpbHRlcgppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmJjLmlzc3VlLnNlYXJjaC5TZWFyY2hTZXJ2aWNlCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuY29tcG9uZW50LkNvbXBvbmVudEFjY2Vzc29yCmltcG9ydCBjb20uYXRsYXNzaWFuLmppcmEuaXNzdWUuSXNzdWUKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5Jc3N1ZU1hbmFnZXIKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5DdXN0b21GaWVsZE1hbmFnZXIKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5maWVsZHMuQ3VzdG9tRmllbGQKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS51c2VyLnV0aWwuVXNlclV0aWwKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5jb21wb25lbnQuQ29tcG9uZW50QWNjZXNzb3IKaW1wb3J0IGNvbS5hdGxhc3NpYW4uamlyYS5pc3N1ZS5Jc3N1ZQppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmNvbmZpZy5SZXNvbHV0aW9uTWFuYWdlcgppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmV2ZW50LnR5cGUuRXZlbnREaXNwYXRjaE9wdGlvbgppbXBvcnQgY29tLmF0bGFzc2lhbi5qaXJhLmlzc3VlLmluZGV4Lklzc3VlSW5kZXhpbmdTZXJ2aWNlCgpTZWFyY2hTZXJ2aWNlIAkJc2VhcmNoU2VydmljZSAJCT0gQ29tcG9uZW50QWNjZXNzb3IuZ2V0Q29tcG9uZW50KFNlYXJjaFNlcnZpY2UuY2xhc3MpClVzZXJVdGlsIAkJCXVzZXJVdGlsIAkJCT0gQ29tcG9uZW50QWNjZXNzb3IuZ2V0VXNlclV0aWwoKQpJc3N1ZU1hbmFnZXIgCQlpc3N1ZU1hbmFnZXIgCQk9IENvbXBvbmVudEFjY2Vzc29yLmdldElzc3VlTWFuYWdlcigpCgpNdXRhYmxlSXNzdWUgcGFyZW50SXNzdWUgPSBpc3N1ZS5wYXJlbnRPYmplY3Q7CgpTdWJUYXNrTWFuYWdlciBzdWJUYXNrTWFuYWdlciA9IENvbXBvbmVudEFjY2Vzc29yLmdldFN1YlRhc2tNYW5hZ2VyKCk7CkNvbGxlY3Rpb24gc3ViVGFza3MgPSBwYXJlbnRJc3N1ZS5nZXRTdWJUYXNrT2JqZWN0cygpOwpkZWYganFsUXVlcnlQYXJzZXIgPSBDb21wb25lbnRBY2Nlc3Nvci5nZXRDb21wb25lbnQoSnFsUXVlcnlQYXJzZXIpCmlzc3VlTWFuYWdlciA9IENvbXBvbmVudEFjY2Vzc29yLmdldElzc3VlTWFuYWdlcigpCklzc3VlSW5kZXhpbmdTZXJ2aWNlIGlzc3VlSW5kZXhpbmdTZXJ2aWNlID0gQ29tcG9uZW50QWNjZXNzb3IuZ2V0Q29tcG9uZW50KElzc3VlSW5kZXhpbmdTZXJ2aWNlKQoKQXBwbGljYXRpb25Vc2VyIG9sZFVzZXIgPSBDb21wb25lbnRBY2Nlc3Nvci5qaXJhQXV0aGVudGljYXRpb25Db250ZXh0LmxvZ2dlZEluVXNlcgpDb21wb25lbnRBY2Nlc3Nvci5qaXJhQXV0aGVudGljYXRpb25Db250ZXh0LnNldExvZ2dlZEluVXNlcihDb21wb25lbnRBY2Nlc3Nvci5nZXRVc2VyTWFuYWdlcigpLmdldFVzZXJCeUtleSgiYXRsYXNzaWFuX2ZhYWNfc2VydmljZV9kZXNrIikpCkFwcGxpY2F0aW9uVXNlciB1c2VyID0gQ29tcG9uZW50QWNjZXNzb3IuamlyYUF1dGhlbnRpY2F0aW9uQ29udGV4dC5sb2dnZWRJblVzZXIKCi8vQ2F0ZWdvcmlhIGFwcHJvdmF6aW9uZSBQUk9EIDIyMjYxIC0gVEVTVCAyMTkwOApkZWYgY2F0ZWdvcmlhV0YgPSBpc3N1ZS5nZXRDdXN0b21GaWVsZFZhbHVlKENvbXBvbmVudEFjY2Vzc29yLmdldEN1c3RvbUZpZWxkTWFuYWdlcigpLmdldEN1c3RvbUZpZWxkT2JqZWN0KDIyMjYxKSkKCmRlZiBqcWxTZWFyY2ggPSAiIgoKaWYgKGNhdGVnb3JpYVdGID09ICJBcHByb3ZhbCBXb3JrZmxvdyIpCglqcWxTZWFyY2ggPSAicHJvamVjdCA9ICciICsgaXNzdWUuZ2V0UHJvamVjdE9iamVjdCgpLm5hbWUgKyAiJyBBTkQgaXNzdWV0eXBlID0gJ1N1Yi1XRlN0ZXAnIEFORCByZXNvbHV0aW9uID0gVW5yZXNvbHZlZCBBTkQgcGFyZW50ID0gJyIgKyBwYXJlbnRJc3N1ZS5rZXkgKyAiJyBBTkQga2V5ICE9ICciICsgaXNzdWUua2V5ICsgIiciCmVsc2UKICAgCWpxbFNlYXJjaCA9ICJwcm9qZWN0ID0gJyIgKyBpc3N1ZS5nZXRQcm9qZWN0T2JqZWN0KCkubmFtZSArICInIEFORCBpc3N1ZXR5cGUgPSAnU3ViLVBSU3RlcCcgQU5EIHJlc29sdXRpb24gPSBVbnJlc29sdmVkIEFORCBwYXJlbnQgPSAnIiArIHBhcmVudElzc3VlLmtleSArICInIEFORCBrZXkgIT0gJyIgKyBpc3N1ZS5rZXkgKyAiJyIKCmRlZiBxdWVyeSA9IGpxbFF1ZXJ5UGFyc2VyLnBhcnNlUXVlcnkoanFsU2VhcmNoKQpkZWYgc2VhcmNoID0gc2VhcmNoU2VydmljZS5zZWFyY2godXNlciwgcXVlcnksIFBhZ2VyRmlsdGVyLmdldFVubGltaXRlZEZpbHRlcigpKQoKCmRlZiBjaGFuZ2VUcmFuc2FjdGlvbj0gdHJ1ZQovL2Rldm8gY2VyY2FyZSBpIHN1YnRhc2sgY29uIHJpc29sdXppb25lIFVucmVzb2x2ZWQgCmZvciAoY3Vycklzc3VlIGluIHNlYXJjaC5yZXN1bHRzKQp7CiAgICAvL0NhdGVnb3JpYSBhcHByb3ZhemlvbmUgUFJPRCAyMjI2MSAtIFRFU1QgMjE5MDgKICAgIGlmIChjdXJySXNzdWUuZ2V0Q3VzdG9tRmllbGRWYWx1ZShDb21wb25lbnRBY2Nlc3Nvci5nZXRDdXN0b21GaWVsZE1hbmFnZXIoKS5nZXRDdXN0b21GaWVsZE9iamVjdCgyMjI2MSkpID09IGNhdGVnb3JpYVdGKXsKICAgIAlpZiAoY3Vycklzc3VlLmdldFN0YXR1c09iamVjdCgpLm5hbWUgIT0gIkFwcHJvdmVkIikKICAgIAkJY2hhbmdlVHJhbnNhY3Rpb24gPSBmYWxzZQogICAgfQp9CgppZiAoY2hhbmdlVHJhbnNhY3Rpb249PXRydWUpCnsgICAKICAgIGRlZiByZXNvbHV0aW9uTWFuYWdlciA9IENvbXBvbmVudEFjY2Vzc29yLmdldENvbXBvbmVudChSZXNvbHV0aW9uTWFuYWdlcikKCiAgICAvLyB1cGRhdGUgc29sbyBzdWIgdGFzayBjb24gcmlzb2x1emlvbmUgVW5yZXNvbHZlZCAgIAogICAgZm9yIChjdXJySSBpbiBzZWFyY2gucmVzdWx0cykKICAgIHsgICAgCiAgICAgICAgTXV0YWJsZUlzc3VlIGN1cnJJc3N1ZSA9aXNzdWVNYW5hZ2VyLmdldElzc3VlQnlLZXlJZ25vcmVDYXNlKGN1cnJJLmtleSkKCiAgICAgICAgaWYgKGNhdGVnb3JpYVdGID09ICJBcHByb3ZhbCBXb3JrZmxvdyIpCiAgICAgICAgICAgIGN1cnJJc3N1ZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb25NYW5hZ2VyLmdldFJlc29sdXRpb25CeU5hbWUoIkFwcHJvdmFsIENvbXBsZXRlZCIpKQoKICAgICAgICAgaWYgKGNhdGVnb3JpYVdGID09ICJQcm9kdWN0aW9uIFNlc3Npb24gV29ya2Zsb3ciKQogICAgICAgICAgICBjdXJySXNzdWUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uTWFuYWdlci5nZXRSZXNvbHV0aW9uQnlOYW1lKCJQcm9kdWN0aW9uIENvbXBsZXRlZCIpKQoKICAgICAgICBpc3N1ZU1hbmFnZXIudXBkYXRlSXNzdWUodXNlciwgY3Vycklzc3VlLCBFdmVudERpc3BhdGNoT3B0aW9uLkRPX05PVF9ESVNQQVRDSCwgZmFsc2UpCiAgICB9CgogICAgaWYgKGNhdGVnb3JpYVdGID09ICJBcHByb3ZhbCBXb3JrZmxvdyIpCiAgICAgICAgaXNzdWUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uTWFuYWdlci5nZXRSZXNvbHV0aW9uQnlOYW1lKCJBcHByb3ZhbCBDb21wbGV0ZWQiKSkKCiAgICBpZiAoY2F0ZWdvcmlhV0YgPT0gIlByb2R1Y3Rpb24gU2Vzc2lvbiBXb3JrZmxvdyIpCiAgICAgICAgaXNzdWUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uTWFuYWdlci5nZXRSZXNvbHV0aW9uQnlOYW1lKCJQcm9kdWN0aW9uIENvbXBsZXRlZCIpKQoKICAgIGlzc3VlTWFuYWdlci51cGRhdGVJc3N1ZSh1c2VyLCBpc3N1ZSwgRXZlbnREaXNwYXRjaE9wdGlvbi5ET19OT1RfRElTUEFUQ0gsIGZhbHNlKQogICAgaXNzdWVJbmRleGluZ1NlcnZpY2UucmVJbmRleChpc3N1ZSkKfQoKaWYgKGNoYW5nZVRyYW5zYWN0aW9uPT10cnVlKQp7ICAgCiAgICAKICAgIENvbXBvbmVudEFjY2Vzc29yLmppcmFBdXRoZW50aWNhdGlvbkNvbnRleHQuc2V0TG9nZ2VkSW5Vc2VyKENvbXBvbmVudEFjY2Vzc29yLmdldFVzZXJNYW5hZ2VyKCkuZ2V0VXNlckJ5S2V5KCJhdGxhc3NpYW5fZmFhY19zZXJ2aWNlX2Rlc2siKSkKCWRlZiBjdXJyZW50VXNlciA9IENvbXBvbmVudEFjY2Vzc29yLmppcmFBdXRoZW50aWNhdGlvbkNvbnRleHQuZ2V0TG9nZ2VkSW5Vc2VyKCk7CgogICAgV29ya2Zsb3dUcmFuc2l0aW9uVXRpbCB3b3JrZmxvd1RyYW5zaXRpb25VdGlsID0gKFdvcmtmbG93VHJhbnNpdGlvblV0aWwpIEppcmFVdGlscy5sb2FkQ29tcG9uZW50KFdvcmtmbG93VHJhbnNpdGlvblV0aWxJbXBsLmNsYXNzKTsKICAgIHdvcmtmbG93VHJhbnNpdGlvblV0aWwuc2V0SXNzdWUocGFyZW50SXNzdWUpOwogICAgCiAgICBpZiAoY2F0ZWdvcmlhV0YgPT0gIkFwcHJvdmFsIFdvcmtmbG93IikKICAgIAl3b3JrZmxvd1RyYW5zaXRpb25VdGlsLnNldEFjdGlvbigyMSk7CiAgICBpZiAoY2F0ZWdvcmlhV0YgPT0gIlByb2R1Y3Rpb24gU2Vzc2lvbiBXb3JrZmxvdyIpCiAgICAJd29ya2Zsb3dUcmFuc2l0aW9uVXRpbC5zZXRBY3Rpb24oODEpOwoKICAgIHdvcmtmbG93VHJhbnNpdGlvblV0aWwudmFsaWRhdGUoKTsKICAgIHdvcmtmbG93VHJhbnNpdGlvblV0aWwucHJvZ3Jlc3MoKTsKfQo=</arg>
                  <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
                  <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
                  <arg name="FIELD_SCRIPT_FILE"></arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="2" name="Rejected">
      <meta name="jira.status.id">11436</meta>
    </step>
    <step id="3" name="Approved">
      <meta name="jira.status.id">10932</meta>
    </step>
  </steps>
</workflow>
