<?xml version='1.0' encoding='UTF-8'?>
<workflow>
  <meta name="jira.description">Workflow to be used in HUB Service flow with JIRA Service Desk</meta>
  <meta name="jira.update.author.key">katia.chinaglia</meta>
  <meta name="jira.updated.date">1586336667064</meta>
  <initial-actions>
    <action id="1" name="Create">
      <validators>
        <validator name="" type="class">
          <arg name="permission">Create Issue</arg>
          <arg name="class.name">com.atlassian.jira.workflow.validator.PermissionValidator</arg>
        </validator>
        <validator name="" type="class">
          <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.validators.SimpleScriptedValidator</arg>
          <arg name="FIELD_CONDITION">import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.ComponentManager
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.issue.label.LabelManager

componentManager = ComponentManager.instance
userUtil = componentManager.getUserUtil()

def	indexManager = componentManager.getIndexManager()

def com.atlassian.crowd.embedded.api.User currentUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()

(!userUtil.getGroupNamesForUser(currentUser.name).contains("HS-customers") &amp;&amp; issue.getProjectObject().key == 'HS' &amp;&amp;  cfValues['Backend Assignee'] != null &amp;&amp; issue.assignee != null) || userUtil.getGroupNamesForUser(currentUser.name).contains("HS-customers") || (currentUser.name == 'atlassian' &amp;&amp; issue.getProjectObject().key == 'BEHS')</arg>
          <arg name="class.name">com.onresolve.jira.groovy.GroovyValidator</arg>
          <arg name="FIELD_ERROR_MSG">Assignee and Backend Assignee must be completed to proceed</arg>
          <arg name="FIELD_FORM_FIELD">jË"w</arg>
        </validator>
      </validators>
      <results>
        <unconditional-result old-status="žée" status="¢—§" step="1">
          <post-functions>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueCreateFunction</arg>
            </function>
            <function type="class">
              <arg name="FIELD_NOTES">Label issue as HSPortal issue</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="FIELD_INLINE_SCRIPT">import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.ComponentManager
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.issue.label.LabelManager

componentManager = ComponentManager.instance
userUtil = componentManager.getUserUtil()

def	indexManager = componentManager.getIndexManager()

def com.atlassian.crowd.embedded.api.User currentUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()

if (userUtil.getGroupNamesForUser(currentUser.name).contains("HS-customers") &amp;&amp; !userUtil.getGroupNamesForUser(currentUser.name).contains("HS-internal-reporters")){
	LabelManager labelManager = ComponentAccessor.getComponent(LabelManager)
	def labels = labelManager.getLabels(issue.id).collect{it.getLabel()}
	labels += 'HSPortal'
	labelManager.setLabels(currentUser,issue.id,labels.toSet(),false,false)

	indexManager.reIndex(issue);
}

if (userUtil.getGroupNamesForUser(currentUser.name).contains("HS-internal-reporters")){
	LabelManager labelManager = ComponentAccessor.getComponent(LabelManager)
	def labels = labelManager.getLabels(issue.id).collect{it.getLabel()}
	labels += 'InternalHS'
	labelManager.setLabels(currentUser,issue.id,labels.toSet(),false,false)

	indexManager.reIndex(issue);
}</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_SCRIPT_FILE" />
            </function>
            <function type="class">
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="FIELD_INLINE_SCRIPT">/* Update issue summary for issues created from Support Portal */
import com.atlassian.jira.ComponentManager
import com.atlassian.jira.issue.fields.CustomField
import com.atlassian.jira.issue.CustomFieldManager
import com.atlassian.jira.user.util.UserUtil
import com.atlassian.jira.issue.IssueManager
import com.atlassian.jira.issue.ModifiedValue
import com.atlassian.jira.issue.util.IssueChangeHolder
import com.atlassian.jira.issue.util.DefaultIssueChangeHolder
import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.event.type.EventDispatchOption

ComponentManager componentManager = ComponentManager.getInstance()
CustomFieldManager customFieldManager =	componentManager.getCustomFieldManager()
IssueManager issueManager = componentManager.getIssueManager()
def indexManager = componentManager.getIndexManager()
IssueChangeHolder changeHolder = new DefaultIssueChangeHolder()
userUtil = componentManager.getUserUtil()
def com.atlassian.crowd.embedded.api.User currentUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()

//Request Installation Number
CustomField requestInstNumb = customFieldManager.getCustomFieldObject(14124)
Object requestInstNumbValue = issue.getCustomFieldValue(requestInstNumb).toString()

if (userUtil.getGroupNamesForUser(currentUser.name).contains("HS-customers") &amp;&amp; !userUtil.getGroupNamesForUser(currentUser.name).contains("HS-internal-reporters")){
    issue.summary = "[" + issue.key + "] [" + requestInstNumbValue.substring(0,requestInstNumbValue.indexOf("-")-1) + "] " + issue.summary  
    issueManager.updateIssue(currentUser, issue, EventDispatchOption.DO_NOT_DISPATCH, false)
	indexManager.reIndex(issue);  
}


</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_SCRIPT_FILE" />
            </function>
            <function type="class">
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="FIELD_INLINE_SCRIPT">import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.ComponentManager
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.issue.label.LabelManager

componentManager = ComponentManager.instance
userUtil = componentManager.getUserUtil()

def com.atlassian.crowd.embedded.api.User oldUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()
ComponentManager.instance.jiraAuthenticationContext.setLoggedInUser(ComponentAccessor.getUserUtil().getUserObject("atlassian"))
def com.atlassian.crowd.embedded.api.User currentUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()

def	indexManager = componentManager.getIndexManager()

if (userUtil.getGroupNamesForUser(oldUser.name).contains("HS-internal-reporters")){
    issue.setAssignee(ComponentManager.instance.userUtil.getUserObject("alessandro.guidetti"))
	indexManager.reIndex(issue);
    ComponentManager.instance.jiraAuthenticationContext.setLoggedInUser(oldUser)
}</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_SCRIPT_FILE" />
            </function>
            <function type="class">
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="FIELD_INLINE_SCRIPT">import com.atlassian.jira.ComponentManager
import com.atlassian.jira.issue.fields.CustomField
import com.atlassian.jira.issue.CustomFieldManager
import com.atlassian.jira.user.util.UserUtil
import com.atlassian.jira.issue.IssueManager
import org.apache.log4j.Level
import com.atlassian.jira.issue.customfields.view.CustomFieldParams
import com.atlassian.jira.issue.customfields.option.Option
import com.atlassian.jira.issue.fields.CustomField
import com.atlassian.jira.issue.ModifiedValue
import com.atlassian.jira.issue.customfields.view.CustomFieldParams
import com.atlassian.jira.issue.customfields.option.LazyLoadedOption
import com.atlassian.jira.issue.customfields.impl.CascadingSelectCFType
import com.atlassian.jira.issue.util.IssueChangeHolder
import com.atlassian.jira.issue.util.DefaultIssueChangeHolder
import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.user.util.UserManager
 
ComponentManager componentManager = ComponentManager.getInstance()
CustomFieldManager customFieldManager =	componentManager.getCustomFieldManager()
IssueManager issueManager = componentManager.getIssueManager()
def indexManager = componentManager.getIndexManager()
IssueChangeHolder changeHolder = new DefaultIssueChangeHolder()

User oldUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()
ComponentManager.instance.jiraAuthenticationContext.setLoggedInUser(ComponentAccessor.getUserUtil().getUserObject("atlassian"))

//Request Brand
CustomField requestBrand = customFieldManager.getCustomFieldObject(14122)
Object requestBrandValue = issue.getCustomFieldValue(requestBrand).toString()

//Request Environment
CustomField requestEnv = customFieldManager.getCustomFieldObject(14123)
Object requestEnvValue = issue.getCustomFieldValue(requestEnv).toString()

//Request Installation Number
CustomField requestInstNumb = customFieldManager.getCustomFieldObject(14124)
Object requestInstNumbValue = issue.getCustomFieldValue(requestInstNumb).toString()


def customFieldID

switch(requestBrandValue){
	case "Datapark":
    	switch(requestEnvValue){
            case "Hardware":
            	customFieldID = 14102
            break
            case "Software":
                customFieldID = 14103			
            break
            case "Manuals":
                customFieldID = 14116			
            break
         }
    break
        
    case "Orion":
    	switch(requestEnvValue){
            case "Hardware":
            	customFieldID = 14104
            break
            case "Software":
                customFieldID = 14106			
            break
            case "Manuals":
                customFieldID = 14105			
            break
         }
    break
        
    case "Orion XR":
    	switch(requestEnvValue){
            case "Hardware":
            	customFieldID = 14107
            break
            case "Software":
                customFieldID = 14109			
            break
            case "Manuals":
                customFieldID = 14108			
            break
         }
   	break
        
    case "Zeag":
    	switch(requestEnvValue){
            case "Hardware":
            	customFieldID = 14119
            break
            case "Software":
                customFieldID = 14121			
            break
            case "Manuals":
                customFieldID = 14120			
            break
         }
    break
        
    case "Parqube":
    	switch(requestEnvValue){
            case "Hardware":
            	customFieldID = 14116
            break
            case "Software":
                customFieldID = 14118			
            break
            case "Manuals":
                customFieldID = 14117			
            break
         }
    break
        
    case "Paragon":
    	switch(requestEnvValue){
            case "Hardware":
            	customFieldID = 14110
            break
            case "Software":
                customFieldID = 14112			
            break
            case "Manuals":
                customFieldID = 14111			
            break
         }
    break
        
    case "Parkplus":
    	switch(requestEnvValue){
            case "Hardware":
            	customFieldID = 14113
            break
            case "Software":
                customFieldID = 14115			
            break
            case "Manuals":
                customFieldID = 14114			
            break
         }
    break

}



CustomField prod = customFieldManager.getCustomFieldObject(customFieldID)
Object prodValue = issue.getCustomFieldValue(prod)

Option parent
Option child

HashMap&lt;String, Option&gt; hashMapEntries = (HashMap&lt;String, Option&gt;) prodValue
if (hashMapEntries != null) {
parent = hashMapEntries.get(CascadingSelectCFType.PARENT_KEY)
child = hashMapEntries.get(CascadingSelectCFType.CHILD_KEY)
}

CustomField brand = customFieldManager.getCustomFieldObject(12900)
Object brandValue = issue.getCustomFieldValue(brand)
brand.updateValue(null, issue, new ModifiedValue(brandValue,requestBrandValue),changeHolder)

CustomField envirnoment = customFieldManager.getCustomFieldObject(12901)
Object envirnomentValue = issue.getCustomFieldValue(envirnoment)
envirnoment.updateValue(null, issue, new ModifiedValue(envirnomentValue,requestEnvValue),changeHolder)

CustomField family = customFieldManager.getCustomFieldObject(12902)
Object familyValue = issue.getCustomFieldValue(family)
family.updateValue(null, issue, new ModifiedValue(familyValue,parent.toString()),changeHolder)

CustomField product = customFieldManager.getCustomFieldObject(12903)
Object productValue = issue.getCustomFieldValue(product)
product.updateValue(null, issue, new ModifiedValue(productValue,child.toString()),changeHolder)


CustomField instNumber = customFieldManager.getCustomFieldObject(11002)
Object instNumberValue = issue.getCustomFieldValue(instNumber)
instNumber.updateValue(null, issue, new ModifiedValue(instNumberValue,requestInstNumbValue),changeHolder)

indexManager.reIndex(issue);

ComponentManager.instance.jiraAuthenticationContext.setLoggedInUser(oldUser)</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_SCRIPT_FILE" />
            </function>
            <function type="class">
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="FIELD_INLINE_SCRIPT">//Aggiornamento "Request Participants"
import com.atlassian.jira.util.ImportUtils
import com.atlassian.jira.issue.util.IssueChangeHolder
import com.atlassian.jira.issue.util.DefaultIssueChangeHolder
import com.atlassian.jira.ComponentManager
import com.atlassian.jira.issue.Issue
import com.atlassian.jira.issue.ModifiedValue
import com.atlassian.jira.issue.CustomFieldManager
import com.atlassian.jira.issue.fields.CustomField
import com.atlassian.jira.issue.index.IssueIndexManager
import com.atlassian.jira.index.Index.Manager
import com.atlassian.jira.event.type.EventDispatchOption
import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.user.ApplicationUser
import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.user.util.UserManager
import com.atlassian.crowd.embedded.api.Group

def groupManager = ComponentAccessor.getGroupManager()

ComponentManager componentManager = ComponentManager.getInstance()
CustomFieldManager customFieldManager = componentManager.getCustomFieldManager()
def indexManager = componentManager.getIndexManager()
IssueChangeHolder changeHolder = new DefaultIssueChangeHolder()
CustomField requestParticipants = customFieldManager.getCustomFieldObject(14100)
CustomField ccAddresses = customFieldManager.getCustomFieldObject(14404)

//In produzione aggiungere il cambio utente in modo che la modifica la faccia 'atlassian'
User oldUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()
ComponentManager.instance.jiraAuthenticationContext.setLoggedInUser(ComponentAccessor.getUserUtil().getUserObject("atlassian"))

userUtil = componentManager.getUserUtil()
List&lt;ApplicationUser&gt; requestParticipantsList = []
List&lt;ApplicationUser&gt; ccAddressesList = []
def v_jiraGroup = null
com.atlassian.crowd.embedded.api.Group not_jiraGroup = null

userUtil.getGroupNamesForUser(issue.reporter.name).each { group -&gt;
    // Ricerco il gruppo di appartenenza dell'utente - non HS-customers a cui appartengono tutti gli utenti ma quello specifico del team di visibilità
	if(group != "HS-customers" &amp;&amp; group.contains("HS-Visibility-")){
        v_jiraGroup = group
        retValue = groupManager.getUsersInGroup(group).each{ user -&gt;
            if(user.getName() != issue.reporter.name){
            	requestParticipantsList.add(userUtil.getUserByName(user.getName()));
            }
        }
    }
}

if (v_jiraGroup != null){
	n_jiraGroup = "HS-Notifications-" + v_jiraGroup.substring(0+v_jiraGroup.indexOf("Visibility-")+11,v_jiraGroup.size())
	not_jiraGroup = ComponentAccessor.getUserManager().getGroup(n_jiraGroup);
}    

if (not_jiraGroup != null){
    retValue = groupManager.getUsersInGroup(not_jiraGroup).each{ user -&gt;
           	ccAddressesList.add(userUtil.getUserByName(user.getName()));
    }
}

if(requestParticipantsList.size &gt; 0){
	requestParticipants.updateValue(null, issue, new ModifiedValue(issue.getCustomFieldValue(requestParticipants),requestParticipantsList),changeHolder)
    indexManager.reIndex(issue);
}

if(ccAddressesList.size &gt; 0){
	ccAddresses.updateValue(null, issue, new ModifiedValue(issue.getCustomFieldValue(ccAddresses),ccAddressesList),changeHolder)
    indexManager.reIndex(issue);
}

ComponentManager.instance.jiraAuthenticationContext.setLoggedInUser(oldUser)</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_SCRIPT_FILE" />
            </function>
            <function type="class">
              <arg name="FIELD_FROM">support@hubparking.com</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS">FIELD_INCLUDE_ATTACHMENTS_NONE</arg>
              <arg name="FIELD_TO_ADDRESSES">Marcel.Feusi@hubparking.com, Erich.Muehlebach@hubparking.com, Erik.Steiert@hubparking.com, Peter.Keller@hubparking.com</arg>
              <arg name="FIELD_CC_ADDRESSES">alessandro.guidetti@hubparking.com</arg>
              <arg name="FIELD_CC_USER_FIELDS" />
              <arg name="FIELD_TO_USER_FIELDS" />
              <arg name="FIELD_INCLUDE_ATTACHMENTS_CALLBACK" />
              <arg name="FIELD_EMAIL_TEMPLATE">&lt;head&gt;
	&lt;style type="text/css"&gt;
		td, a, h2 {color: #003050}
		.value, .label {color: #003050}
		.request-status {color: #003050}
		.header-request-link {color: #6ba539}
	&lt;/style&gt;
&lt;/head&gt;

&lt;body style="background-color: #f5f5f5; font-size: 16px; font-family: sans-serif"&gt;
        &lt;span class="preheader" style="display: none !important; font-size:1px; line-height: 1px; color: #cccccc; display: none; font-size: 1px; line-height: 1px"&gt;Status of the request $issue.summary with key $issue has been changed... &lt;/span&gt;&lt;center&gt;
            &lt;table id="email-wrap" valign="top" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; background-color: #f5f5f5; font-size: 16px; font-family: sans-serif"&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td align="center" id="email-wrap-cell" style="padding: 20px 10px 10px"&gt;
                            &lt;table id="email-container" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; width: 600px; line-height: 1,500"&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td align="left"&gt;
                                            &lt;table border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif"&gt;
                                                &lt;tbody&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class="email-header" style="padding: 10px 20px; border: solid #ddd; border-width: 1px 2px 1px 1px; border-bottom-color: #f5f5f5; background-color: #fff; font-weight: normal; line-height: 1,200"&gt;
                                                            &lt;table border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; width: 100%"&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
																		&lt;td class="viewport-details" style="width: 100%" align="right" colspan="2"&gt;
																			&lt;img src="/images/loghi/HUB Logo2.jpg"/&gt;
																		&lt;/td&gt;
																	&lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="viewport-details" style="width: 50%"&gt;
                                                                            &lt;a href="&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString("jira.baseurl") %&gt;/browse/$issue" style="font-size: 14px; font-weight: normal; text-decoration: none"&gt;&lt;strong style="font-weight: bold"&gt;HUB Support Portal&lt;/strong&gt; - Support Request&lt;/a&gt;
                                                                        &lt;/td&gt;
                                                                        &lt;td class="request-key" style="width: 50%; text-align: right; font-size: 12px; line-height: 18px; text-decoration: none"&gt;
                                                                            &lt;!-- &lt;a href="http://support.hubparking.com/servicedesk/customer/portal/2/$issue" style="font-size: 14px; font-weight: normal; text-decoration: none; color: #707070"&gt;Reference: &lt;strong style="font-weight: bold"&gt;[$issue]&lt;/strong&gt;&lt;/a&gt; --&gt;
																			Reference: &lt;strong style="font-weight: bold"&gt;$issue&lt;/strong&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class="email-content-important email-heading" style="text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding-top: 10px; border-top-color: #f5f5f5"&gt;
                                                            &lt;h1 style="margin: 0; line-height: 1,200; font-size: 22px; font-weight: bold; color: #111"&gt;&lt;a href="&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString("jira.baseurl") %&gt;/browse/$issue" class="header-request-link" style="text-decoration: none"&gt;$issue.summary&lt;/a&gt; &lt;span class="request-status aui-lozenge aui-lozenge-current" style="background-color: #cccccd; border: 1px solid #cccccd; border-radius: 3px; color: #333; display: inline-block; font-size: 11px; font-weight: bold; line-height: 1; padding: 2px 5px 1px 5px; text-align: center; text-decoration: none; text-transform: uppercase; background-color: #4A6785; border-color: #4A6785; color: #ffffff; margin-left: 5px; font-weight: bold; font-size: 14px"&gt;$issue.status.name&lt;/span&gt;&lt;/h1&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class="email-actions email-content-important" style="text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding: 20px; padding-top: 0; padding-bottom: 20px; border-top-width: 0; border-bottom-width: 2px"&gt;
                                                            You can &lt;a href="&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString("jira.baseurl") %&gt;/browse/$issue"&gt;view the full request&lt;/a&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
													&lt;tr&gt;
                                                        &lt;td class="email-details" style="padding: 20px"&gt;
                                                            &lt;h2 style="margin: 0 0 10px; line-height: 1,200; font-size: 16px; font-weight: bold"&gt;Details&lt;/h2&gt;
                                                            &lt;table class="email-request-details" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif"&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0; width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Reporter
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.reporter.displayName %&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Brand
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Environment
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Product Family
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parqube"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14116"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14118"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14117"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Zeag"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14119"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14121"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14120"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14104"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14106"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14105"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion XR"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14107"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14109"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14108"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parkplus"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14113"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14115"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14114"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Paragon"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14110"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14112"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14111"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Datapark"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14102"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14103"))[null] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Product
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parqube"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14116"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14118"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14117"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Zeag"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14119"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14121"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14120"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14104"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14106"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14105"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion XR"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14107"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14109"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14108"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parkplus"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14113"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14115"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14114"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Paragon"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14110"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14112"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14111"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Datapark"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14102"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14103"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Affected Version / Peripheral Serial Number
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_12904"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Description
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;p&gt;$issue.description&lt;/p&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr class="last"&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            What Is your installation number?
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14124"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                &lt;/tbody&gt;
                                            &lt;/table&gt;
                                        &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td id="foot-note" style="padding-bottom: 20px;  font-size: 12px; line-height: 1,200"&gt;
                            &lt;p style="width: 600px; text-align: center; margin: 0 auto"&gt;This message is automatically generated by HUB Support Portal.&lt;br /&gt;&lt;/p&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/center&gt;
    &lt;/body&gt;</arg>
              <arg name="FIELD_EMAIL_SUBJECT_TEMPLATE">[HUB Support Portal][&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObjectByName("Request Brand")) %&gt;] $issue.summary</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.SendCustomEmail</arg>
              <arg name="FIELD_CONDITION">//ORION/ORION XR Agents notification
issue.projectObject.name == 'HUB Support' &amp;&amp; (cfValues['Request Brand']?.value == 'Orion' || cfValues['Request Brand']?.value == 'Orion XR')</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_PREVIEW_ISSUE">HS-665</arg>
              <arg name="FIELD_EMAIL_FORMAT">3</arg>
            </function>
            <function type="class">
              <arg name="FIELD_FROM">support@hubparking.com</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS">FIELD_INCLUDE_ATTACHMENTS_NONE</arg>
              <arg name="FIELD_TO_ADDRESSES">alessandro.guidetti@hubparking.com</arg>
              <arg name="FIELD_CC_ADDRESSES" />
              <arg name="FIELD_CC_USER_FIELDS" />
              <arg name="FIELD_TO_USER_FIELDS" />
              <arg name="FIELD_INCLUDE_ATTACHMENTS_CALLBACK" />
              <arg name="FIELD_EMAIL_TEMPLATE">&lt;head&gt;
	&lt;style type="text/css"&gt;
		td, a, h2 {color: #003050}
		.value, .label {color: #003050}
		.request-status {color: #003050}
		.header-request-link {color: #6ba539}
	&lt;/style&gt;
&lt;/head&gt;

&lt;body style="background-color: #f5f5f5; font-size: 16px; font-family: sans-serif"&gt;
        &lt;span class="preheader" style="display: none !important; font-size:1px; line-height: 1px; color: #cccccc; display: none; font-size: 1px; line-height: 1px"&gt;Status of the request $issue.summary with key $issue has been changed... &lt;/span&gt;&lt;center&gt;
            &lt;table id="email-wrap" valign="top" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; background-color: #f5f5f5; font-size: 16px; font-family: sans-serif"&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td align="center" id="email-wrap-cell" style="padding: 20px 10px 10px"&gt;
                            &lt;table id="email-container" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; width: 600px; line-height: 1,500"&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td align="left"&gt;
                                            &lt;table border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif"&gt;
                                                &lt;tbody&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class="email-header" style="padding: 10px 20px; border: solid #ddd; border-width: 1px 2px 1px 1px; border-bottom-color: #f5f5f5; background-color: #fff; font-weight: normal; line-height: 1,200"&gt;
                                                            &lt;table border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; width: 100%"&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
																		&lt;td class="viewport-details" style="width: 100%" align="right" colspan="2"&gt;
																			&lt;img src="http://support.hubparking.com/images/loghi/HUB Logo2.jpg"/&gt;
																		&lt;/td&gt;
																	&lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="viewport-details" style="width: 50%"&gt;
                                                                            &lt;a href="&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString("jira.baseurl") %&gt;/browse/$issue" style="font-size: 14px; font-weight: normal; text-decoration: none"&gt;&lt;strong style="font-weight: bold"&gt;HUB Support Portal&lt;/strong&gt; - Support Request&lt;/a&gt;
                                                                        &lt;/td&gt;
                                                                        &lt;td class="request-key" style="width: 50%; text-align: right; font-size: 12px; line-height: 18px; text-decoration: none"&gt;
                                                                            &lt;!-- &lt;a href="http://support.hubparking.com/servicedesk/customer/portal/2/$issue" style="font-size: 14px; font-weight: normal; text-decoration: none; color: #707070"&gt;Reference: &lt;strong style="font-weight: bold"&gt;[$issue]&lt;/strong&gt;&lt;/a&gt; --&gt;
																			Reference: &lt;strong style="font-weight: bold"&gt;$issue&lt;/strong&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class="email-content-important email-heading" style="text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding-top: 10px; border-top-color: #f5f5f5"&gt;
                                                            &lt;h1 style="margin: 0; line-height: 1,200; font-size: 22px; font-weight: bold; color: #111"&gt;&lt;a href="&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString("jira.baseurl") %&gt;/browse/$issue" class="header-request-link" style="text-decoration: none"&gt;$issue.summary&lt;/a&gt; &lt;span class="request-status aui-lozenge aui-lozenge-current" style="background-color: #cccccd; border: 1px solid #cccccd; border-radius: 3px; color: #333; display: inline-block; font-size: 11px; font-weight: bold; line-height: 1; padding: 2px 5px 1px 5px; text-align: center; text-decoration: none; text-transform: uppercase; background-color: #4A6785; border-color: #4A6785; color: #ffffff; margin-left: 5px; font-weight: bold; font-size: 14px"&gt;$issue.status.name&lt;/span&gt;&lt;/h1&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class="email-actions email-content-important" style="text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding: 20px; padding-top: 0; padding-bottom: 20px; border-top-width: 0; border-bottom-width: 2px"&gt;
                                                            You can &lt;a href="&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString("jira.baseurl") %&gt;/browse/$issue"&gt;view the full request&lt;/a&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
													&lt;tr&gt;
                                                        &lt;td class="email-details" style="padding: 20px"&gt;
                                                            &lt;h2 style="margin: 0 0 10px; line-height: 1,200; font-size: 16px; font-weight: bold"&gt;Details&lt;/h2&gt;
                                                            &lt;table class="email-request-details" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif"&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0; width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Reporter
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.reporter.displayName %&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Brand
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Environment
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Product Family
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parqube"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14116"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14118"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14117"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Zeag"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14119"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14121"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14120"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14104"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14106"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14105"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion XR"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14107"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14109"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14108"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parkplus"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14113"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14115"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14114"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Paragon"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14110"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14112"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14111"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Datapark"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14102"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14103"))[null] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Product
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parqube"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14116"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14118"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14117"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Zeag"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14119"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14121"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14120"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14104"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14106"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14105"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion XR"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14107"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14109"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14108"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parkplus"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14113"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14115"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14114"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Paragon"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14110"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14112"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14111"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Datapark"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14102"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14103"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Affected Version / Peripheral Serial Number
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_12904"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Description
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;p&gt;$issue.description&lt;/p&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr class="last"&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            What Is your installation number?
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14124"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                &lt;/tbody&gt;
                                            &lt;/table&gt;
                                        &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td id="foot-note" style="padding-bottom: 20px;  font-size: 12px; line-height: 1,200"&gt;
                            &lt;p style="width: 600px; text-align: center; margin: 0 auto"&gt;This message is automatically generated by HUB Support Portal.&lt;br /&gt;&lt;/p&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/center&gt;
    &lt;/body&gt;</arg>
              <arg name="FIELD_EMAIL_SUBJECT_TEMPLATE">[HUB Support Portal][&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObjectByName("Request Brand")) %&gt;] $issue.summary</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.SendCustomEmail</arg>
              <arg name="FIELD_CONDITION">//FAAC Agents notification
issue.projectObject.name == 'HUB Support' &amp;&amp; (cfValues['Request Brand']?.value == 'Paragon' || cfValues['Request Brand']?.value == 'Parkplus' || cfValues['Request Brand']?.value == 'Parqube' || cfValues['Request Brand']?.value == 'Zeag')
</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_PREVIEW_ISSUE">HS-665</arg>
              <arg name="FIELD_EMAIL_FORMAT">3</arg>
            </function>
            <function type="class">
              <arg name="FIELD_FROM">support@hubparking.com</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS">FIELD_INCLUDE_ATTACHMENTS_NONE</arg>
              <arg name="FIELD_TO_ADDRESSES">lilia.slavova@hubparking.com, teodora.ivanova@hubparking.com</arg>
              <arg name="FIELD_CC_ADDRESSES">alessandro.guidetti@hubparking.com</arg>
              <arg name="FIELD_CC_USER_FIELDS" />
              <arg name="FIELD_TO_USER_FIELDS" />
              <arg name="FIELD_INCLUDE_ATTACHMENTS_CALLBACK" />
              <arg name="FIELD_EMAIL_TEMPLATE">&lt;head&gt;
	&lt;style type="text/css"&gt;
		td, a, h2 {color: #003050}
		.value, .label {color: #003050}
		.request-status {color: #003050}
		.header-request-link {color: #6ba539}
	&lt;/style&gt;
&lt;/head&gt;

&lt;body style="background-color: #f5f5f5; font-size: 16px; font-family: sans-serif"&gt;
        &lt;span class="preheader" style="display: none !important; font-size:1px; line-height: 1px; color: #cccccc; display: none; font-size: 1px; line-height: 1px"&gt;Status of the request $issue.summary with key $issue has been changed... &lt;/span&gt;&lt;center&gt;
            &lt;table id="email-wrap" valign="top" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; background-color: #f5f5f5; font-size: 16px; font-family: sans-serif"&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td align="center" id="email-wrap-cell" style="padding: 20px 10px 10px"&gt;
                            &lt;table id="email-container" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; width: 600px; line-height: 1,500"&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td align="left"&gt;
                                            &lt;table border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif"&gt;
                                                &lt;tbody&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class="email-header" style="padding: 10px 20px; border: solid #ddd; border-width: 1px 2px 1px 1px; border-bottom-color: #f5f5f5; background-color: #fff; font-weight: normal; line-height: 1,200"&gt;
                                                            &lt;table border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; width: 100%"&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
																		&lt;td class="viewport-details" style="width: 100%" align="right" colspan="2"&gt;
																			&lt;img src="/images/loghi/HUB Logo2.jpg"/&gt;
																		&lt;/td&gt;
																	&lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="viewport-details" style="width: 50%"&gt;
                                                                            &lt;a href="&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString("jira.baseurl") %&gt;/browse/$issue" style="font-size: 14px; font-weight: normal; text-decoration: none"&gt;&lt;strong style="font-weight: bold"&gt;HUB Support Portal&lt;/strong&gt; - Support Request&lt;/a&gt;
                                                                        &lt;/td&gt;
                                                                        &lt;td class="request-key" style="width: 50%; text-align: right; font-size: 12px; line-height: 18px; text-decoration: none"&gt;
                                                                            &lt;!-- &lt;a href="http://support.hubparking.com/servicedesk/customer/portal/2/$issue" style="font-size: 14px; font-weight: normal; text-decoration: none; color: #707070"&gt;Reference: &lt;strong style="font-weight: bold"&gt;[$issue]&lt;/strong&gt;&lt;/a&gt; --&gt;
																			Reference: &lt;strong style="font-weight: bold"&gt;$issue&lt;/strong&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class="email-content-important email-heading" style="text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding-top: 10px; border-top-color: #f5f5f5"&gt;
                                                            &lt;h1 style="margin: 0; line-height: 1,200; font-size: 22px; font-weight: bold; color: #111"&gt;&lt;a href="&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString("jira.baseurl") %&gt;/browse/$issue" class="header-request-link" style="text-decoration: none"&gt;$issue.summary&lt;/a&gt; &lt;span class="request-status aui-lozenge aui-lozenge-current" style="background-color: #cccccd; border: 1px solid #cccccd; border-radius: 3px; color: #333; display: inline-block; font-size: 11px; font-weight: bold; line-height: 1; padding: 2px 5px 1px 5px; text-align: center; text-decoration: none; text-transform: uppercase; background-color: #4A6785; border-color: #4A6785; color: #ffffff; margin-left: 5px; font-weight: bold; font-size: 14px"&gt;$issue.status.name&lt;/span&gt;&lt;/h1&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class="email-actions email-content-important" style="text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding: 20px; padding-top: 0; padding-bottom: 20px; border-top-width: 0; border-bottom-width: 2px"&gt;
                                                            You can &lt;a href="&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString("jira.baseurl") %&gt;/browse/$issue"&gt;view the full request&lt;/a&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
													&lt;tr&gt;
                                                        &lt;td class="email-details" style="padding: 20px"&gt;
                                                            &lt;h2 style="margin: 0 0 10px; line-height: 1,200; font-size: 16px; font-weight: bold"&gt;Details&lt;/h2&gt;
                                                            &lt;table class="email-request-details" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif"&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0; width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Reporter
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.reporter.displayName %&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Brand
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Environment
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Product Family
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parqube"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14116"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14118"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14117"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Zeag"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14119"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14121"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14120"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14104"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14106"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14105"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion XR"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14107"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14109"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14108"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parkplus"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14113"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14115"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14114"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Paragon"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14110"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14112"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14111"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Datapark"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14102"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14103"))[null] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Product
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parqube"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14116"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14118"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14117"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Zeag"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14119"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14121"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14120"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14104"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14106"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14105"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion XR"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14107"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14109"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14108"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parkplus"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14113"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14115"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14114"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Paragon"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14110"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14112"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14111"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Datapark"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14102"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14103"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Affected Version / Peripheral Serial Number
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_12904"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Description
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;p&gt;$issue.description&lt;/p&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr class="last"&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            What Is your installation number?
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14124"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                &lt;/tbody&gt;
                                            &lt;/table&gt;
                                        &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td id="foot-note" style="padding-bottom: 20px;  font-size: 12px; line-height: 1,200"&gt;
                            &lt;p style="width: 600px; text-align: center; margin: 0 auto"&gt;This message is automatically generated by HUB Support Portal.&lt;br /&gt;&lt;/p&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/center&gt;
    &lt;/body&gt;</arg>
              <arg name="FIELD_EMAIL_SUBJECT_TEMPLATE">[HUB Support Portal][&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObjectByName("Request Brand")) %&gt;] $issue.summary</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.SendCustomEmail</arg>
              <arg name="FIELD_CONDITION">//DATAPARK Agent notification
issue.projectObject.name == 'HUB Support' &amp;&amp; cfValues['Request Brand']?.value == 'Datapark'</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_PREVIEW_ISSUE">HS-665</arg>
              <arg name="FIELD_EMAIL_FORMAT">3</arg>
            </function>
            <function type="class">
              <arg name="FIELD_FROM">support@hubparking.com</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS">FIELD_INCLUDE_ATTACHMENTS_NONE</arg>
              <arg name="FIELD_TO_ADDRESSES" />
              <arg name="FIELD_CC_ADDRESSES" />
              <arg name="FIELD_CC_USER_FIELDS" />
              <arg name="FIELD_TO_USER_FIELDS">­êh®×«</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS_CALLBACK" />
              <arg name="FIELD_EMAIL_TEMPLATE">&lt;head&gt;
	&lt;style type="text/css"&gt;
		td, a, h2 {color: #003050}
		.value, .label {color: #003050}
		.request-status {color: #003050}
		.header-request-link {color: #6ba539}
	&lt;/style&gt;
&lt;/head&gt;

&lt;body style="background-color: #f5f5f5; font-size: 16px; font-family: sans-serif"&gt;
        &lt;span class="preheader" style="display: none !important; font-size:1px; line-height: 1px; color: #cccccc; display: none; font-size: 1px; line-height: 1px"&gt;Status of the request $issue.summary with key $issue has been changed... &lt;/span&gt;&lt;center&gt;
            &lt;table id="email-wrap" valign="top" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; background-color: #f5f5f5; font-size: 16px; font-family: sans-serif"&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td align="center" id="email-wrap-cell" style="padding: 20px 10px 10px"&gt;
                            &lt;table id="email-container" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; width: 600px; line-height: 1,500"&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td align="left"&gt;
                                            &lt;table border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif"&gt;
                                                &lt;tbody&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class="email-header" style="padding: 10px 20px; border: solid #ddd; border-width: 1px 2px 1px 1px; border-bottom-color: #f5f5f5; background-color: #fff; font-weight: normal; line-height: 1,200"&gt;
                                                            &lt;table border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; width: 100%"&gt;
                                                                &lt;tbody&gt;
                                                                    &lt;tr&gt;
																		&lt;td class="viewport-details" style="width: 100%" align="right" colspan="2"&gt;
																			&lt;img src="/images/loghi/HUB Logo2.jpg"/&gt;
																		&lt;/td&gt;
																	&lt;/tr&gt;
																	&lt;tr&gt;
                                                                        &lt;td class="viewport-details" style="width: 50%"&gt;
																			&lt;a href="http://support.hubparking.com/servicedesk/customer/portal/2" style="font-size: 14px; font-weight: normal; text-decoration: none"&gt;&lt;strong style="font-weight: bold"&gt;HUB Support Portal&lt;/strong&gt; - Support Request&lt;/a&gt;
                                                                        &lt;/td&gt;
                                                                        &lt;td class="request-key" style="width: 50%; text-align: right; font-size: 12px; line-height: 18px; text-decoration: none"&gt;
                                                                            &lt;!-- &lt;a href="http://support.hubparking.com/servicedesk/customer/portal/2/$issue" style="font-size: 14px; font-weight: normal; text-decoration: none; color: #707070"&gt;Reference: &lt;strong style="font-weight: bold"&gt;[$issue]&lt;/strong&gt;&lt;/a&gt; --&gt;
																			Reference: &lt;strong style="font-weight: bold"&gt;$issue&lt;/strong&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class="email-content-important email-heading" style="text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding-top: 10px; border-top-color: #f5f5f5"&gt;
															&lt;h1 style="margin: 0; line-height: 1,200; font-size: 22px; font-weight: bold"&gt;&lt;a href="http://support.hubparking.com/servicedesk/customer/portal/2/$issue" class="header-request-link" style="text-decoration: none"&gt;$issue.summary&lt;/a&gt; &lt;span class="request-status aui-lozenge aui-lozenge-current" style="background-color: #cccccd; border: 1px solid #cccccd; border-radius: 3px; color: #333; display: inline-block; font-size: 11px; font-weight: bold; line-height: 1; padding: 2px 5px 1px 5px; text-align: center; text-decoration: none; text-transform: uppercase; background-color: #4A6785; border-color: #4A6785; color: #ffffff; margin-left: 5px; font-weight: bold; font-size: 14px"&gt;$issue.status.name&lt;/span&gt;&lt;/h1&gt;
														&lt;/td&gt;
                                                    &lt;/tr&gt;
													
                                                    &lt;tr&gt;
                                                        &lt;td class="email-actions email-content-important" style="text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding: 20px; padding-top: 0; padding-bottom: 20px; border-top-width: 0; border-bottom-width: 2px"&gt;
															You can &lt;a href="http://support.hubparking.com/servicedesk/customer/portal/2/$issue"&gt;view the full request&lt;/a&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
													
													&lt;tr&gt;
                                                        &lt;td class="email-details" style="padding: 20px"&gt;
                                                            &lt;h2 style="margin: 0 0 10px; line-height: 1,200; font-size: 16px; font-weight: bold"&gt;Details&lt;/h2&gt;
                                                            &lt;table class="email-request-details" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif"&gt;
                                                                &lt;tbody&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Brand
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Environment
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Product Family
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parqube"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14116"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14118"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14117"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Zeag"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14119"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14121"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14120"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14104"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14106"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14105"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion XR"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14107"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14109"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14108"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parkplus"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14113"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14115"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14114"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Paragon"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14110"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14112"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14111"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Datapark"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14102"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14103"))[null] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Product
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parqube"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14116"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14118"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14117"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Zeag"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14119"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14121"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14120"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14104"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14106"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14105"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion XR"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14107"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14109"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14108"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parkplus"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14113"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14115"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14114"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Paragon"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14110"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14112"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14111"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Datapark"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14102"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14103"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Affected Version / Peripheral Serial Number
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_12904"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Description
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;p&gt;$issue.description&lt;/p&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr class="last"&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            What Is your installation number?
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14124"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                &lt;/tbody&gt;
                                            &lt;/table&gt;
                                        &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td id="foot-note" style="padding-bottom: 20px;  font-size: 12px; line-height: 1,200"&gt;
                            &lt;p style="width: 600px; text-align: center; margin: 0 auto"&gt;This message is automatically generated by HUB Support Portal.&lt;br /&gt;&lt;/p&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/center&gt;
    &lt;/body&gt;</arg>
              <arg name="FIELD_EMAIL_SUBJECT_TEMPLATE">[HUB Support Portal] $issue.summary</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.SendCustomEmail</arg>
              <arg name="FIELD_CONDITION">import com.atlassian.jira.component.ComponentAccessor

def groupManager = ComponentAccessor.getGroupManager()
issue.projectObject.name == 'HUB Support' &amp;&amp; groupManager.isUserInGroup(issue.reporter?.name, 'HS-customers')
</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_PREVIEW_ISSUE">HS-665</arg>
              <arg name="FIELD_EMAIL_FORMAT">3</arg>
            </function>
            <function type="class">
              <arg name="FIELD_FROM">support@hubparking.com</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS">FIELD_INCLUDE_ATTACHMENTS_NONE</arg>
              <arg name="FIELD_TO_ADDRESSES" />
              <arg name="FIELD_CC_ADDRESSES" />
              <arg name="FIELD_CC_USER_FIELDS" />
              <arg name="FIELD_TO_USER_FIELDS">­êh®×«</arg>
              <arg name="FIELD_INCLUDE_ATTACHMENTS_CALLBACK" />
              <arg name="FIELD_EMAIL_TEMPLATE">&lt;head&gt;
	&lt;style type="text/css"&gt;
		td, a, h2 {color: #003050}
		.value, .label {color: #003050}
		.request-status {color: #003050}
		.header-request-link {color: #6ba539}
	&lt;/style&gt;
&lt;/head&gt;

&lt;body style="background-color: #f5f5f5; font-size: 16px; font-family: sans-serif"&gt;
        &lt;span class="preheader" style="display: none !important; font-size:1px; line-height: 1px; color: #cccccc;; display: none; font-size: 1px; line-height: 1px"&gt;Status of the request $issue.summary with key $issue has been changed... &lt;/span&gt;&lt;center&gt;
            &lt;table id="email-wrap" valign="top" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; background-color: #f5f5f5; font-size: 16px; font-family: sans-serif"&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td align="center" id="email-wrap-cell" style="padding: 20px 10px 10px"&gt;
                            &lt;table id="email-container" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; width: 600px; line-height: 1,500"&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td align="left"&gt;
                                            &lt;table border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif"&gt;
                                                &lt;tbody&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class="email-header" style="padding: 10px 20px; border: solid #ddd; border-width: 1px 2px 1px 1px; border-bottom-color: #f5f5f5; background-color: #fff; font-weight: normal; line-height: 1,200"&gt;
                                                            &lt;table border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif; width: 100%"&gt;
                                                                &lt;tbody&gt;
																	&lt;tr&gt;
																		&lt;td class="viewport-details" style="width: 100%" align="right" colspan="2"&gt;
																			&lt;img src="/images/loghi/HUB Logo2.jpg"/&gt;
																		&lt;/td&gt;
																	&lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="viewport-details" style="width: 50%"&gt;
                                                                            &lt;a href="&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString("jira.baseurl") %&gt;/browse/$issue" style="font-size: 14px; font-weight: normal; text-decoration: none"&gt;&lt;strong style="font-weight: bold"&gt;HUB Support Portal&lt;/strong&gt; - Support Request&lt;/a&gt;
                                                                        &lt;/td&gt;
                                                                        &lt;td class="request-key" style="width: 50%; text-align: right; font-size: 12px; line-height: 18px; text-decoration: none"&gt;
                                                                            &lt;!-- &lt;a href="http://support.hubparking.com/servicedesk/customer/portal/2/$issue" style="font-size: 14px; font-weight: normal; text-decoration: none; color: #707070"&gt;Reference: &lt;strong style="font-weight: bold"&gt;[$issue]&lt;/strong&gt;&lt;/a&gt; --&gt;
																			Reference: &lt;strong style="font-weight: bold"&gt;$issue&lt;/strong&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                    &lt;tr&gt;
                                                        &lt;td class="email-content-important email-heading" style="text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding-top: 10px; border-top-color: #f5f5f5"&gt;
                                                            &lt;h1 style="margin: 0; line-height: 1,200; font-size: 22px; font-weight: bold"&gt;&lt;a href="&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString("jira.baseurl") %&gt;/browse/$issue" class="header-request-link" style="text-decoration: none"&gt;$issue.summary&lt;/a&gt; &lt;span class="request-status aui-lozenge aui-lozenge-current" style="background-color: #cccccd; border: 1px solid #cccccd; border-radius: 3px; color: #333; display: inline-block; font-size: 11px; font-weight: bold; line-height: 1; padding: 2px 5px 1px 5px; text-align: center; text-decoration: none; text-transform: uppercase; background-color: #4A6785; border-color: #4A6785; color: #ffffff; margin-left: 5px; font-weight: bold; font-size: 14px"&gt;$issue.status.name&lt;/span&gt;&lt;/h1&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
													
                                                    &lt;tr&gt;
                                                        &lt;td class="email-actions email-content-important" style="text-align: left; padding: 20px; border-style: solid; border-width: 0 2px 0 1px; border-color: #fff #ddd #ddd; background-color: #fff; padding: 20px; padding-top: 0; padding-bottom: 20px; border-top-width: 0; border-bottom-width: 2px"&gt;
                                                            You can &lt;a href="&lt;% out &lt;&lt; componentManager.getApplicationProperties().getString("jira.baseurl") %&gt;/browse/$issue"&gt;view the full request&lt;/a&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
													
													&lt;tr&gt;
                                                        &lt;td class="email-details" style="padding: 20px"&gt;
                                                            &lt;h2 style="color: #111; margin: 0 0 10px; line-height: 1,200; font-size: 16px; font-weight: bold"&gt;Details&lt;/h2&gt;
                                                            &lt;table class="email-request-details" border="0" cellpadding="0" cellspacing="0" style="width: 100%; font-family: sans-serif"&gt;
                                                                &lt;tbody&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Brand
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Environment
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Product Family
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parqube"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14116"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14118"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14117"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Zeag"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14119"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14121"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14120"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14104"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14106"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14105"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion XR"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14107"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14109"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14108"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parkplus"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14113"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14115"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14114"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Paragon"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14110"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14112"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manual"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14111"))[null] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Datapark"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14102"))[null] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14103"))[null] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Product
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parqube"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14116"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14118"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14117"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Zeag"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14119"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14121"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14120"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14104"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14106"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14105"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Orion XR"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14107"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14109"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14108"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Parkplus"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14113"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14115"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14114"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Paragon"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14110"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14112"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Manuals"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14111"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
																			&lt;% if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14122"))?.value == "Datapark"){
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Hardware"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14102"))["1"] %&gt;
																				&lt;%}
																				if(issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14123"))?.value == "Software"){%&gt;
																					&lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14103"))["1"] %&gt;
																				&lt;%}
																			}%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Affected Version / Peripheral Serial Number
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_12904"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            Description
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;p&gt;$issue.description&lt;/p&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                    &lt;tr class="last"&gt;
                                                                        &lt;td class="label" style="padding: 5px 0;  width: 120px; padding-right: 10px; font-size: 14px"&gt;
                                                                            What Is your installation number?
                                                                        &lt;/td&gt;
                                                                        &lt;td class="value" style="padding: 5px 0"&gt;
                                                                            &lt;% out &lt;&lt; issue.getCustomFieldValue(componentManager.getCustomFieldManager().getCustomFieldObject("customfield_14124"))%&gt;
                                                                        &lt;/td&gt;
                                                                    &lt;/tr&gt;
                                                                &lt;/tbody&gt;
                                                            &lt;/table&gt;
                                                        &lt;/td&gt;
                                                    &lt;/tr&gt;
                                                &lt;/tbody&gt;
                                            &lt;/table&gt;
                                        &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td id="foot-note" style="padding-bottom: 20px;  font-size: 12px; line-height: 1,200"&gt;
                            &lt;p style="width: 600px; text-align: center; margin: 0 auto"&gt;This message is automatically generated by HUB Support Portal.&lt;br /&gt;&lt;/p&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/center&gt;
    &lt;/body&gt;</arg>
              <arg name="FIELD_EMAIL_SUBJECT_TEMPLATE">[HS] $issue.summary</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.SendCustomEmail</arg>
              <arg name="FIELD_CONDITION">import com.atlassian.jira.component.ComponentAccessor

def groupManager = ComponentAccessor.getGroupManager()
issue.projectObject.name == 'HUB Support' &amp;&amp; !groupManager.isUserInGroup(issue.reporter?.name, 'HS-customers')</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_PREVIEW_ISSUE">HS-665</arg>
              <arg name="FIELD_EMAIL_FORMAT">3</arg>
            </function>
            <function type="class">
              <arg name="FIELD_NOTES" />
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="FIELD_INLINE_SCRIPT" />
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.CustomScriptFunction</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_SCRIPT_FILE">customScripts\SD_UpdateRequestType.groovy</arg>
            </function>
            <function type="class">
              <arg name="FIELD_ACTION">11 AssignToTechnician</arg>
              <arg name="full.module.key">com.onresolve.jira.groovy.groovyrunnerrungroovy-function</arg>
              <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.postfunctions.FasttrackTransition</arg>
              <arg name="FIELD_CONDITION">import com.atlassian.crowd.embedded.api.User
import com.atlassian.jira.user.util.UserManager
import com.atlassian.jira.util.ImportUtils
import com.atlassian.jira.ComponentManager
import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.issue.label.LabelManager

ComponentManager 	componentManager = 	ComponentManager.getInstance()
com.atlassian.crowd.embedded.api.User currentUser = ComponentManager.instance.jiraAuthenticationContext.getLoggedInUser()
def userUtil = componentManager.getUserUtil()
LabelManager labelManager = ComponentAccessor.getComponent(LabelManager)

(!userUtil.getGroupNamesForUser(issue.reporter.name).contains("HS-customers") &amp;&amp; issue.getProjectObject().key == 'HS') || (labelManager.getLabels(issue.id).collect{it.getLabel()}.contains('InternalHS') &amp;&amp; issue.getProjectObject().key == 'HS')</arg>
              <arg name="class.name">com.onresolve.jira.groovy.GroovyFunctionPlugin</arg>
              <arg name="FIELD_ADDITIONAL_SCRIPT" />
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="eventTypeId">1</arg>
              <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
  </initial-actions>
  <common-actions>
    <action id="81" name="ReOpen">
      <meta name="jira.description">This issue needs to go back to the technical assistance</meta>
      <results>
        <unconditional-result old-status="žée" status="žée" step="1">
          <post-functions>
            <function type="class">
              <arg name="field.name">resolution</arg>
              <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowupdate-issue-field-function</arg>
              <arg name="field.value" />
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="eventTypeId">7</arg>
              <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
    <action id="21" name="Resolve" view="Resolve Issue Screen - 2">
      <meta name="jira.description">This transition state the issue is moving to a field test to verify it's resolution</meta>
      <meta name="jira.fieldscreen.id">10600</meta>
      <results>
        <unconditional-result old-status="žée" status="žée" step="6">
          <post-functions>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="eventTypeId">13</arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
    <action id="41" name="TransferToReporter" view="fieldscreen">
      <meta name="jira.description">Action used to respond to customer</meta>
      <meta name="jira.fieldscreen.id">11701</meta>
      <results>
        <unconditional-result old-status="žée" status="žée" step="3">
          <post-functions>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="field.name">customfield_13616</arg>
              <arg name="full.module.key">com.googlecode.jira-suite-utilitiesupdateIssueCustomField-function</arg>
              <arg name="field.value">%%CURRENT_DATETIME%%</arg>
              <arg name="class.name">com.googlecode.jsu.workflow.function.UpdateIssueCustomFieldPostFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="eventTypeId">13</arg>
              <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
  </common-actions>
  <steps>
    <step id="1" name=":—§">
      <meta name="jira.status.id">1</meta>
      <actions>
<common-action id="21" />
        <action id="11" name="AssignToTechnician" view="fieldscreen">
          <meta name="jira.description">The opened issue should be assigned to a technician and checked</meta>
          <meta name="jira.fieldscreen.id">11702</meta>
          <results>
            <unconditional-result old-status="žée" status="žée" step="2">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="field.name">customfield_13923</arg>
                  <arg name="full.module.key">com.googlecode.jira-suite-utilitiesupdateIssueCustomField-function</arg>
                  <arg name="field.value">%%CURRENT_USER%%</arg>
                  <arg name="class.name">com.googlecode.jsu.workflow.function.UpdateIssueCustomFieldPostFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">10600</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="2" name="SupportWait">
      <meta name="jira.status.id">10026</meta>
      <actions>
        <action id="61" name="TransferToEngineering" view="fieldscreen">
          <meta name="jira.description">this issue need an Engineering Review</meta>
          <meta name="jira.fieldscreen.id">12403</meta>
          <results>
            <unconditional-result old-status="žée" status="žée" step="4">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">3</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
        <action id="141" name="N¶§±÷«Nƒ©z¶­Š‰ì" view="fieldscreen">
          <meta name="jira.description">Move the issue on Purchasing, Backoffice or in Production</meta>
          <meta name="jira.fieldscreen.id">12403</meta>
          <results>
            <unconditional-result old-status="žée" status="žée" step="8">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">3</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
        <action id="161" name="çm§$N^¦íz¿Àéí" view="fieldscreen">
          <meta name="jira.description" />
          <meta name="jira.fieldscreen.id">11701</meta>
          <results>
            <unconditional-result old-status="žée" status="žée" step="9">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">13</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="3" name="Eêh®×«Y¨­">
      <meta name="jira.status.id">10027</meta>
      <actions>
        <action id="51" name="Expiration">
          <meta name="jira.description">too much time is passed without any answer</meta>
          <results>
            <unconditional-result old-status="žée" status="žée" step="7">
              <post-functions>
                <function type="class">
                  <arg name="field.name">resolution</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowupdate-issue-field-function</arg>
                  <arg name="field.value">10301</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">13</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
        <action id="91" name="ReporterBackToSupport">
          <meta name="jira.description" />
          <meta name="jira.fieldscreen.id" />
          <results>
            <unconditional-result old-status="žée" status="žée" step="9">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">7</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
        <action id="101" name="TimeRearm">
          <meta name="jira.description">Loop Transition fro sending warning emails</meta>
          <restrict-to>
            <conditions>
              <condition type="class">
                <arg name="canned-script">com.onresolve.scriptrunner.canned.jira.workflow.conditions.SimpleScriptedCondition</arg>
                <arg name="FIELD_CONDITION">import com.atlassian.jira.component.ComponentAccessor

def groupManager = ComponentAccessor.getGroupManager()

currentUser.name == 'atlassian' || (groupManager.isUserInGroup(currentUser.name, 'service-desk-agents') &amp;&amp; issue.getProjectObject().key == 'HS')</arg>
                <arg name="FIELD_PREVIEW_ISSUE" />
                <arg name="class.name">com.onresolve.jira.groovy.GroovyCondition</arg>
              </condition>
            </conditions>
          </restrict-to>
          <results>
            <unconditional-result old-status="žée" status="žée" step="3">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">13</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="4" name="EngineeringWait">
      <meta name="jira.status.id">10028</meta>
      <actions>
        <action id="121" name="x&quot;ç«xiÉ¡+©¦í" view="fieldscreen">
          <meta name="jira.description" />
          <meta name="jira.fieldscreen.id">12403</meta>
          <results>
            <unconditional-result old-status="žée" status="žée" step="2">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">3</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="5" name="Closed">
      <meta name="jira.status.id">6</meta>
      <actions>
        <action id="71" name="ReOpen">
          <meta name="jira.description">This issue needs to go back to the technical assistance</meta>
          <results>
            <unconditional-result old-status="žée" status="žée" step="1">
              <post-functions>
                <function type="class">
                  <arg name="field.name">resolution</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowupdate-issue-field-function</arg>
                  <arg name="field.value" />
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">7</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="6" name="Eë(÷">
      <meta name="jira.status.id">5</meta>
      <actions>
<common-action id="81" />
        <action id="31" name="Close" view="fieldscreen">
          <meta name="jira.description">This action closes the ticket assuming that the issue is validated from the field</meta>
          <meta name="jira.fieldscreen.id">10600</meta>
          <results>
            <unconditional-result old-status="žée" status="žée" step="5">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">13</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="7" name="Expired">
      <meta name="jira.status.id">10029</meta>
      <actions>
        <action id="111" name="ReOpen">
          <meta name="jira.description">This issue needs to go back to the technical assistance</meta>
          <results>
            <unconditional-result old-status="žée" status="žée" step="9">
              <post-functions>
                <function type="class">
                  <arg name="field.name">resolution</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowupdate-issue-field-function</arg>
                  <arg name="field.value" />
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">13</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="8" name="OperationsWait">
      <meta name="jira.status.id">10126</meta>
      <actions>
        <action id="151" name="OperationsBackToSupport" view="fieldscreen">
          <meta name="jira.description" />
          <meta name="jira.fieldscreen.id">12403</meta>
          <results>
            <unconditional-result old-status="žée" status="žée" step="2">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">3</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="9" name="AgentActionWait">
      <meta name="jira.status.id">10427</meta>
      <actions>
<common-action id="41" />
<common-action id="21" />
        <action id="171" name="AgentBackToSupport" view="fieldscreen">
          <meta name="jira.description" />
          <meta name="jira.fieldscreen.id">11702</meta>
          <results>
            <unconditional-result old-status="žée" status="žée" step="2">
              <post-functions>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
                </function>
                <function type="class">
                  <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
                </function>
                <function type="class">
                  <arg name="eventTypeId">3</arg>
                  <arg name="full.module.key">com.atlassian.jira.plugin.system.workflowfireevent-function</arg>
                  <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
                </function>
              </post-functions>
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
  </steps>
</workflow>